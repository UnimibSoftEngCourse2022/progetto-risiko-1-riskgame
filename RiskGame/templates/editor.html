{% extends "base.html" %}
{% block content %}

{% load static %}



<body>

    <div class="cp">
        <br>
        <div class="popup" onclick="myFunction()">INFORMAZIONI
            <span class="popuptext" id="myPopup">In questa schermata puoi creare la tua mappa
                personalizzata.<br>
                Utilizza il Tool Poligono per essere il pi√π preciso possibile<br>
                Una volta che hai creato il territorio clicca col tasto destro su di esso per impostare il
                nome
                e il
                continente
                a cui appartiene,
                due territori non possono avere lo stesso nome<br>
                Se vuoi che due territori risultino confinanti, crea le aree in modo che due punti risultino
                in
                comune<br>
                Se vuoi eliminare una mappa che avevi creato in passato, scrivi il nome e successivamente
                clicca
                sul
                tasto
                'Elimina'

            </span>
        </div>


        <div class="light-text p-2">
            <p class="text">Una volta generato il file Html, spostare l'immagine jpeg della mappa e il file generato
                all'interno della cartella Mappe; fare attenzione ad aver nominato entrambi i file con il nome della
                mappa
                presente nell'editor.<br>
                Successivamente clicca il tasto "Conferma"</p>
        </div>

        <form action="{% url 'RiskGame:checkButton' %}" method="POST">
            {% csrf_token %}
            <div class="text">
                <div class="light-text">
                    <label for="nome-mappa">Nome mappa:</label>
                    <input type="text" onblur="javascript:getChecked()" id="nome-mappa" name="nome-mappa">
                </div>
                <br>
                {% if messages %}
                <ul class="messages">
                    {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
                        {% endfor %}
                </ul>
                {% endif %}
                <div class="button">
                    <button class="btn btn-outline-info" type="submit" value="conferma"
                        name="conferma">Conferma</button>
                    <button class="btn btn-outline-info" type="submit" value="elimina" name="elimina">Elimina</button>
                </div>
            </div>
        </form>




        <section>

            <div id="id" class="mb-4"></div>


        </section>







</body>

<script>
    function getChecked() {
        return (document.getElementById('nome-mappa').value)
    }
</script>
<script src=" {% static 'node_modules\image-map-creator\dist\image-map-creator.bundle.js' %}">
</script>
<script src="{% static 'node_modules\image-map-creator\dist\script.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"
    integrity="IntegrityCheckProntoPolizia"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"
    integrity="IntegrityCheckProntoPolizia"></script>
<script type="text/javascript">
    let iMap = new imageMapCreator("id");
</script>
<script>
    function myFunction() {
        var popup = document.getElementById("myPopup");
        popup.classList.toggle("show");
    }
</script>
<style>
    .cp {
        padding: 5vh;
    }

    .classee {
        padding: 0vh;
    }

    .qs_main {
        position: absolute;
        top: 35% !important;
        left: 15% !important;
        margin-top: -50px;
        margin-left: -50px;

    }

    #defaultCanvas0 {
        position: absolute;
        top: 35% !important;
        left: 30% !important;
        margin-top: -50px;
        margin-left: -50px;
        width: 800px !important;
        height: 476px !important;
        padding-bottom: 200px;
        box-sizing: content-box;
    }

    .text {
        text-align: center;
        filter: brightness(110%);
        font-weight: bold;
    }

    .button {
        text-align: center;
        bottom: 0 !important;
    }

    .light-text {
        text-shadow: -1px -1px 10px rgba(255, 255, 255, 1);
    }
</style>

{% endblock content%}