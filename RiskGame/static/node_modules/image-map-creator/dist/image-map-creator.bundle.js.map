{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./lib/contextmenu/contextmenu.js","webpack:///./node_modules/downloadjs/download.js","webpack:///./node_modules/undo-manager/lib/undomanager.js","webpack:///./node_modules/quicksettings/quicksettings.min.js","webpack:///./lib/contextmenu/contextmenu.css?9c64","webpack:///./lib/contextmenu/contextmenu.css","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/utils.ts","webpack:///./src/class.coord.ts","webpack:///./src/class.area.ts","webpack:///./src/class.image-map.ts","webpack:///./src/p5.bg-layer.ts","webpack:///./src/class.selection.ts","webpack:///./src/p5.image-map-creator.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","conf","event","position","horizontalOffset","verticalOffset","data","isOpen","target","isFunction","obj","constructor","apply","extend","length","arguments","idx","source","getElements","selector","jQuery","HTMLElement","String","document","querySelectorAll","NodeList","onContextMenu","e","stopPropagation","preventDefault","closeContextMenu","ctxMenu","menu","createContextMenu","body","appendChild","setTimeout","addEventListener","style","visibility","positionContextMenu","contextMenu","createElement","className","display","item","enabled","innerHTML","label","onSelect","this","title","left","top","targetBox","getBoundingClientRect","menuBox","bottom","height","width","clientX","clientY","clientWidth","clientHeight","elements","getElementsByClassName","removeEventListener","parentNode","removeChild","setEnabledState","normalizeMenu","itemDefaults","type","icon","dflt","ContextMenu","attach","options","Event","box","evt","console","log","disable","enable","close","undefined","download","strFileName","strMimeType","blob","reader","self","defaultMime","mimeType","payload","url","anchor","toString","myBlob","Blob","MozBlob","WebKitBlob","fileName","split","pop","href","indexOf","ajax","XMLHttpRequest","open","responseType","onload","response","send","test","navigator","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","setAttribute","click","URL","revokeObjectURL","userAgent","replace","confirm","location","f","src","createObjectURL","btoa","y","encodeURIComponent","FileReader","result","readAsDataURL","UndoManager","callback","execute","commands","index","limit","isExecuting","command","action","add","splice","push","from","to","array","setCallback","callbackFunc","undo","redo","clear","prev_size","hasUndo","hasRedo","getCommands","getIndex","setLimit","b","id","h","j","_version","_topZ","_panel","_titleBar","_content","_startX","_startY","_hidden","_collapsed","_controls","_keyCode","_draggable","_collapsible","_globalChangeHandler","useExtStyleSheet","_init","destroy","parentElement","innerText","head","g","_bindHandlers","_createPanel","_createTitleBar","_createContent","_startDrag","_drag","_endDrag","_doubleClickTitle","_onKeyUp","getValuesAsJSON","getValue","JSON","stringify","setValuesFromJSON","parse","setValue","saveInLocalStorage","_localStorageName","_readFromLocalStorage","clearLocalStorage","localStorage","removeItem","_saveInLocalStorage","setItem","getItem","zIndex","setPosition","textContent","_createContainer","substr","Math","max","setSize","offsetHeight","setWidth","setHeight","setDraggable","cursor","parseInt","setGlobalChangeHandler","_callGCH","hide","show","toggleVisibility","setCollapsible","collapse","expand","toggleCollapsed","setKey","toUpperCase","onKeyUp","keyCode","removeControl","container","enableControl","control","disabled","disableControl","hideControl","showControl","overrideStyle","hideTitle","showTitle","hideAllTitles","showAllTitles","addBoolean","checked","bindBoolean","addButton","addColor","toLowerCase","addText","k","backgroundColor","colorLabel","bindColor","addDate","Date","getFullYear","getMonth","getDate","bindDate","addDropDown","selectedIndex","bindDropDown","addElement","addFileChooser","accept","files","addHTML","addImage","img","addRange","_addNumber","addNumber","min","step","parseFloat","bindRange","bindNumber","setRangeParameters","setNumberParameters","addPassword","_addText","bindPassword","addProgressBar","round","valueDiv","valueDisplay","setProgressMax","rows","bindText","addTextArea","setTextAreaRows","bindTextArea","addTime","getHours","getMinutes","getSeconds","bindTime","content","transform","locals","useSourceMap","list","map","cssMapping","sourceMapping","sourceMap","unescape","sourceURLs","sources","sourceRoot","concat","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","getTarget","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","firstChild","before","removeStyleElement","createStyleElement","attrs","nonce","getNonce","addAttrs","el","keys","forEach","update","remove","default","styleIndex","applyToSingletonTag","link","rel","createLinkElement","updateLink","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","x","digits","toFixed","set","fromObject","Coord","dist","coord1","coord2","sqrt","pow","swap","val","tmp","isEmpty","oneIsEmpty","sum","coord","diff","sub","move","getPosition","clone","invert","toStr","dec","scale","toHtml","shape","coords","AreaRect","radius","closed","AreaDefault","iMap","getId","setShape","getShape","addCoord","setCoords","getCoords","drawingCoords","slice","getPoints","equals","area","copyCoords","copy","updateLastCoord","fcoord","firstCoord","isValidShape","isDrawable","isOverPoint","tolerance","point","find","setHref","getHref","getHrefVerbose","setTitle","getTitle","setId","htmlCoords","toSvg","svgArea","isOver","getCenter","center","p5","ellipse","cornersX","cornersY","oddNodes","polyX","polyY","isClosable","beginShape","vertex","endShape","isNullArea","isDefault","rect","areas","hasDefaultArea","dArea","lastId","setFromObject","setName","getName","setDefaultArea","bool","getAreas","addArea","getNewId","unshift","rmvArea","areaIndex","moveArea","direction","nextIndex","insertArea","shiftArea","shift","popArea","findIndex","isFirstArea","isLastArea","str","clearAreas","setAreas","speed","alpha","over","appear","disappear","noStroke","fill","trueX","trueY","view","origin","Map","points","resetOrigin","addPoint","registerArea","prev","containsArea","has","containsPoint","distToOrigin","size","nb","version","elementId","SetUrl","setAreaUrl","SetTitle","setAreaTitle","Delete","deleteArea","MoveFront","MoveBack","element","getElementById","tool","drawingTools","settings","tempArea","AreaEmpty","selection","hoveredArea","hoveredPoint","undoManager","file","transX","transY","zoomParams","sensativity","magnetism","fusion","bgLayer","BgLayer","sketch","setup","draw","mousePressed","mouseDragged","mouseReleased","mouseWheel","keyPressed","createCanvas","drop","handeFile","dragLeave","onLeave","dragOver","onOver","canvas","v","setTool","save","updateTempArea","updateHovered","setCursor","setOutput","setBackground","translate","drawImage","drawAreas","mouseIsHoverSketch","drawingCoord","mouseButton","LEFT","setTempArea","areaPoly","mCoord","createArea","CENTER","mouseX","pmouseX","mouseY","pmouseY","onClick","coefZoom","deltaY","zoom","composed","ctrlKey","ESCAPE","mX","mY","mouseIsPressed","RIGHT","loadImage","resetView","subtype","fetch","then","res","json","importMap","readAsText","xScale","yScale","coef","newScale","image","allAreas","setAreaStyle","includes","HAND","CROSS","ARROW","MOVE","background","textAlign","textSize","text","removeAttribute","color","strokeWeight","stroke","exportMap","Save","encoding","objectMap","reset","input","prompt"],"mappings":"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","file":"image-map-creator.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","/**\n * Basic Context Menu - v0.0.1\n *\n * Copyright (c) 2015\n * Released under the MIT license.\n *\n * This is an extremely basic context menu library for JavaScript.\n * It has no dependencies.\n *\n * Usage:\n *\n * // The menu object contains a key along with an object describing\n * // the item, or a function which is called when the item is clicked.\n * //\n * // The key can be used to identify which menu option was clicked\n * // in an onSelect handler. The key is also used to perform actions,\n * // such as disable or enable, on the menu item.\n *\n * var menu = {\n *     // Basic menu option: Key and onSelect\n *     \"New\" : function( target ) { ... },\n *\n *     // More advanced options\n *     \"Open\" : {\n *         onSelect : function( target ) { ... },\n *         enabled : true, // Use false for disabled, default true\n *         text : \"Open...\", // Overrides the key, always use if array\n *         title : \"Open a file\" // Title attribute for menu item\n *     },\n *\n *     // More parameters in onSelect function\n *     \"Save\" : {\n *         // target : DOM object that was clicked to open menu\n *         // key : The key of the menu object, in this case, \"Save\"\n *         // item : DOM object of the menu item that was clicked\n *         onSelect : function( target, key, item ) {\n *             ...\n *         }\n *     }\n * }\n *\n * // A selector can be a CSS-like selector\n * selector = \".menus\";\n *\n * // Or a jQuery selector\n * selector = $( \".menus\" )\n *\n * // Or a DOM object\n * selector = document.getElementById( \"menu\" )\n *\n * // Or a NodeList\n * selector = document.getElementsByClassName( \"menus\" )\n *\n * // Attach a menu\n * ContextMenu.attach( selector, menu );\n *\n * // Attach menu with options\n * ContextMenu.attach( \".menus\", menu, {\n *     event : \"click\", // Any valid mouse/touch event\n *     position : \"bottom\", // One of bottom, top, left, right, or click\n *     horizontalOffset : 0, // Add horizontal offset to position of menu\n *     verticalOffset : 0, // Add vertical offset to position of menu\n * } );\n *\n * // Disable a menu item\n * ContextMenu.disable( selector, \"Close\" );\n *\n * // Enable a menu item\n * ContextMenu.enable( selector, \"Close\" );\n *\n */\n( function() {\n\t'use strict';\n\n\n\tvar conf = {\n\t\tevent : \"click\",\n\t\tposition : \"bottom\",\n\t\thorizontalOffset : 0,\n\t\tverticalOffset : 0,\n\t\tdata : {} \n\t};\n\n\t/**\n\t * Variable indicating if a menu is open\n\t * @type {boolean}\n\t */\n\tvar isOpen = false;\n\n\n\t/**\n\t * Target object of context menu. This is the DOM object clicked\n\t * on to open the context menu.\n\t * @type {HTMLElement}\n\t */\n\tvar target = null;\n\n\n\t/**\n\t * Class to apply to context menu\n\t * @type String\n\t */\n\tvar menuClassName = \"context-menu\";\n\n\n\t/**\n\t * Class to apply to conext menu items\n\t * @type String\n\t */\n\tvar itemClassName = \"context-menu-item\";\n\n\n\t/**\n\t * Class to apply to conext menu items which are disabled\n\t * @type String\n\t */\n\tvar itemClassNameDisabled = \"context-menu-item-disabled\";\n\n\n\t///////////////////////////////\n\t// Helper functions\n\t///////////////////////////////\n\n\t/**\n\t * Check if object is a function\n\t *\n\t * @param {Mixed} obj\n\t * @returns {boolean}\n\t */\n\tvar isFunction = function( obj ) {\n\t\treturn !!( obj && obj.constructor && obj.call && obj.apply );\n\t};\n\n\n\n\t/**\n\t * Check if object is a string\n\t *\n\t * @param {Mixed} obj\n\t * @returns {boolean}\n\t */\n\tvar isString = function( obj ) {\n\t\treturn ( typeof obj === 'string' || obj instanceof String );\n\t};\n\n\n\n\t/**\n\t * A super simple extend function. This is all that we need\n\t * for this library\n\t *\n\t * @param {Object}\n\t * @returns {Object}\n\t */\n\tvar extend = function( obj ) {\n\t\tvar length = arguments.length;\n\n\t\tif ( length < 2 || obj === null ) {\n\t\t\treturn obj;\n\t\t}\n\n\t\tfor ( var idx = 1; idx < length; idx++ ) {\n\t\t\tvar source = arguments[ idx ];\n\t\t\tfor ( var key in source ) {\n\t\t\t\tobj[ key ] = source[ key ];\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t};\n\n\n\n\t/**\n\t * Get elements based on selector. The selector may be any of a\n\t * DOM element, a jQuery object, a css-selector string, or\n\t * a NodeList, likely retrieved from .querySelectorAll().\n\t *\n\t * @param {jQuery|NodeList|String|HTMLElement} selector\n\t * @returns {Array|jQuery|NodeList}\n\t */\n\tvar getElements = function( selector ) {\n\t\tvar elements = [];\n\n\t\tif ( typeof jQuery !== \"undefined\" && selector instanceof jQuery ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\tif ( selector instanceof HTMLElement ) {\n\t\t\treturn [ selector ];\n\t\t}\n\n\t\tif ( isString( selector ) ) {\n\t\t\treturn document.querySelectorAll( selector );\n\t\t}\n\n\t\tif ( selector instanceof NodeList ) {\n\t\t\treturn selector;\n\t\t}\n\n\t\treturn elements;\n\t};\n\n\n\t///////////////////////////////\n\t// Private functions\n\t///////////////////////////////\n\n\n\t/**\n\t * Called when a context menu is requested.\n\t *\n\t * @param {Event} e\n\t */\n\tvar onContextMenu = function( e ) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\ttarget = e.target;\n\t\tcloseContextMenu();\n\n\t\tif ( target.ctxMenu ) {\n\n\t\t\tvar menu = createContextMenu( target );\n\t\t\tdocument.body.appendChild( menu );\n\t\t\tisOpen = true;\n\n\t\t\t// On next tick, position menu. We can't do it right\n\t\t\t// away because width and height of menu needs to be computed\n\t\t\t// first.\n\t\t\tsetTimeout( function() {\n\t\t\t\t// Set up events to process or close context menu\n\t\t\t\twindow.addEventListener( \"click\", closeContextMenu );\n\t\t\t\twindow.addEventListener( \"resize\", closeContextMenu );\n\t\t\t\twindow.addEventListener( \"scroll\", closeContextMenu );\n\t\t\t\t\n\t\t\t\t// Position and display\n\t\t\t\tmenu.style.visibility = \"visible\";\n\t\t\t\tpositionContextMenu( e, target, menu );\n\t\t\t}, 1 );\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Create context menu\n\t *\n\t * @param {HTMLElement} target The element user clicks on to get context menu\n\t * @returns {HTMLElement} The menu\n\t */\n\tvar createContextMenu = function( target ) {\n\t\tvar key;\n\n\t\tvar contextMenu = document.createElement( \"div\" );\n\t\tcontextMenu.className = menuClassName;\n\n\t\t// Initially hidden until we compute position\n\t\tcontextMenu.style.visibility = \"hidden\";\n\t\tcontextMenu.style.display = \"inline-block\";\n\n\t\tfor ( key in target.ctxMenu.menu ) {\n\t\t\tvar value = target.ctxMenu.menu[ key ];\n\n\t\t\tvar item = document.createElement( \"div\" );\n\t\t\titem.ctxMenu = {\n\t\t\t\tkey : key,\n\t\t\t\tenabled : value.enabled ? true : false\n\t\t\t};\n\n\t\t\tif ( item.ctxMenu.enabled ) {\n\t\t\t\titem.className = itemClassName;\n\t\t\t} else {\n\t\t\t\titem.className = itemClassNameDisabled;\n\t\t\t}\n\t\t\titem.innerHTML = value && value.label ? value.label : key;\n\n\t\t\t// Assign event listener\n\t\t\tif ( item.ctxMenu.enabled ) {\n\t\t\t\tif ( isFunction( value.onSelect ) ) {\n\t\t\t\t\titem.ctxMenu.onSelect = value.onSelect;\n\t\t\t\t} else {\n\t\t\t\t\titem.ctxMenu.onSelect = onSelect;\n\t\t\t\t}\n\n\t\t\t\titem.addEventListener( target.ctxMenu.event, function( e ) {\n\t\t\t\t\tthis.ctxMenu.onSelect( target, this.ctxMenu.key, item, target.ctxMenu.data );\n\t\t\t\t\tcloseContextMenu();\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\tif ( value.title ) {\n\t\t\t\titem.title = value.title;\n\t\t\t}\n\n\t\t\tcontextMenu.appendChild( item );\n\t\t}\n\n\t\treturn contextMenu;\n\t};\n\n\n\n\t/**\n\t * Position the menu relative to the target\n\t *\n\t * @param {Event} e The event that triggered the display of context menu\n\t * @param {HTMLElement} target\n\t * @param {HTMLElement} menu\n\t */\n\tvar positionContextMenu = function( e, target, menu ) {\n\t\tvar left = 0;\n\t\tvar top = 0;\n\t\tvar targetBox = target.getBoundingClientRect();\n\t\tvar menuBox = menu.getBoundingClientRect();\n\n\t\t// Default position\n\t\tvar position = \"click\";\n\n\t\tif ( target.ctxMenu && target.ctxMenu.position ) {\n\t\t\tposition = target.ctxMenu.position;\n\t\t}\n\n\t\tif ( position === \"bottom\" ) {\n\t\t\t// Display below element, left aligned (what about RTL languages?)\n\t\t\tleft = targetBox.left + target.ctxMenu.horizontalOffset;\n\t\t\ttop = targetBox.bottom + target.ctxMenu.verticalOffset;\n\t\t} else if ( position === \"top\" ) {\n\t\t\t// Display above element, left aligned (what about RTL languages?)\n\t\t\tleft = targetBox.left + target.ctxMenu.horizontalOffset;\n\t\t\ttop = targetBox.top - menuBox.height + target.ctxMenu.verticalOffset;\n\t\t} else if ( position === \"right\" ) {\n\t\t\t// Display to the right of the element, aligned to the top\n\t\t\tleft = targetBox.left + targetBox.width + target.ctxMenu.horizontalOffset;\n\t\t\ttop = targetBox.top + target.ctxMenu.verticalOffset;\n\t\t} else if ( position === \"left\" ) {\n\t\t\t// Display to the left of the element, aligned to the top\n\t\t\tleft = targetBox.left - menuBox.width + target.ctxMenu.horizontalOffset;\n\t\t\ttop = targetBox.top + target.ctxMenu.verticalOffset;\n\t\t} else {\n\t\t\t// Display wherever the user clicked the mouse\n\t\t\tleft = e.clientX + target.ctxMenu.horizontalOffset;\n\t\t\ttop = e.clientY + target.ctxMenu.verticalOffset;\n\t\t}\n\n\t\t// Check if off screen\n\n\t\t// Too far to the left?\n\t\tif ( left < 0 ) {\n\t\t\tif ( target.ctxMenu.horizontalOffset >= 0 ) {\n\t\t\t\tleft = target.ctxMenu.horizontalOffset;\n\t\t\t} else {\n\t\t\t\tleft = 0;\n\t\t\t}\n\t\t}\n\n\t\t// Too far up?\n\t\tif ( top < 0 ) {\n\t\t\tif ( target.ctxMenu.verticalOffset >= 0 ) {\n\t\t\t\ttop = target.ctxMenu.verticalOffset;\n\t\t\t} else {\n\t\t\t\ttop = 0;\n\t\t\t}\n\t\t}\n\n\t\t// Too far to the right?\n\t\tif ( left + menuBox.width > document.body.clientWidth ) {\n\t\t\tif ( target.ctxMenu.horizontalOffset >= 0 ) {\n\t\t\t\tleft = document.body.clientWidth - menuBox.width;\n\t\t\t} else {\n\t\t\t\tleft = document.body.clientWidth - menuBox.width + target.ctxMenu.horizontalOffset;\n\t\t\t}\n\t\t}\n\n\t\t// Too far to the bottom?\n\t\tif ( top + menuBox.height > document.body.clientHeight ) {\n\t\t\tif ( target.ctxMenu.verticalOffset >= 0 ) {\n\t\t\t\ttop = document.body.clientHeight - menuBox.height;\n\t\t\t} else {\n\t\t\t\ttop = document.body.clientHeight - menuBox.height + target.ctxMenu.verticalOffset;\n\t\t\t}\n\t\t}\n\n\t\t// And finally, apply to positioning to the menu\n\t\tmenu.style.left = left + \"px\";\n\t\tmenu.style.top = top + \"px\";\n\t};\n\n\n\n\t/**\n\t * Default onSelect routine if client failed to pass one in\n\t *\n\t * @param {HTMLElement} target The DOM element which context menu is applied to\n\t * @param {String} key Key related to menu\n\t * @param {HTMLElement} item The item clicked\n\t */\n\tvar onSelect = function( target, key, item ) {\n\t\t// TODO: Maybe throw an event\n\t};\n\n\n\n\t/**\n\t * Close any context menus (there should be only one!) that\n\t * currently exist.\n\t */\n\tvar closeContextMenu = function() {\n\t\tvar idx = 0;\n\t\tvar elements = document.getElementsByClassName( menuClassName );\n\n\t\t// Remove event listeners. If they don't exist, nothing will happen.\n\t\twindow.removeEventListener( \"click\", closeContextMenu );\n\t\twindow.removeEventListener( \"resize\", closeContextMenu );\n\t\twindow.removeEventListener( \"scroll\", closeContextMenu );\n\n\t\tfor ( idx = 0; idx < elements.length; idx++ ) {\n\t\t\telements[ idx ].parentNode.removeChild( elements[ idx ] );\n\t\t}\n\t\tisOpen = false;\n\t};\n\n\n\n\t/**\n\t * Set the enabled state of a menu item\n\t * @param {jQuery|NodeList|String|HTMLElement} selector\n\t * @param {String|int} key Key in menu object\n\t * @param {boolean} enabled\n\t */\n\tvar setEnabledState = function( selector, key, enabled ) {\n\t\tvar idx = 0;\n\n\t\t// Get list of elements to attach context menu to\n\t\tvar elements = getElements( selector );\n\n\t\t// Disable each menu element\n\t\tfor ( idx = 0; idx < elements.length; idx++ ) {\n\t\t\tif ( elements[ idx ].ctxMenu.menu.hasOwnProperty( key ) ) {\n\t\t\t\telements[ idx ].ctxMenu.menu[ key ].enabled = enabled;\n\t\t\t}\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Normalize a menu structure so that all properties are present\n\t *\n\t * @param {Object} menu\n\t * @returns {Object}\n\t */\n\tvar normalizeMenu = function( menu ) {\n\t\tvar idx;\n\t\tvar itemDefaults = {\n\t\t\ttype: \"item\",\n\t\t\tenabled: true,\n\t\t\tlabel: \"\",\n\t\t\tonSelect: function() {},\n\t\t\ticon: \"\",  // This isn't used yet\n\t\t\ttitle: \"\"\n\t\t};\n\n\t\t// Quick normalization of menu object\n\t\tfor ( idx in menu ) {\n\t\t\t// Create copy of defaults\n\t\t\tvar dflt = extend( {}, itemDefaults );\n\t\t\t\n\t\t\tif ( ! menu[ idx ] ) {\n\t\t\t\tmenu[ idx ] = extend( dflt, { label : idx } );\n\t\t\t} else if ( isFunction( menu[ idx ] ) ) {\n\t\t\t\tmenu[ idx ] = extend( dflt, { label : idx, onSelect : menu[ idx ] } );\n\t\t\t} else {\n\t\t\t\tmenu[ idx ] = extend( dflt, menu[ idx ] );\n\t\t\t}\n\t\t}\n\n\t\treturn menu;\n\t};\n\n\n\n\t///////////////////////////////\n\t// Public API\n\t///////////////////////////////\n\tvar ContextMenu = {\n\n\t\t/**\n\t\t * Attach a context menu to one or more elements. This is the\n\t\t * API that will be used most often.\n\t\t *\n\t\t * @param {jQuery|NodeList|HTMLElement|String} selector\n\t\t * @param {Array|Object} menu\n\t\t * @param {Object} options\n\t\t */\n\t\tattach : function( selector, menu, options ) {\n\t\t\tvar idx = 0;\n\n\t\t\tmenu = normalizeMenu( menu );\n\n\t\t\t// Create object to associate with element(s).\n\t\t\t// extend() is used so that each element gets a unique copy.\n\t\t\tvar obj = extend( { menu : extend( {}, menu ) }, conf, options );\n\n\t\t\t// Get list of elements to attach context menu to\n\t\t\tvar elements = getElements( selector );\n\n\t\t\t// Attach context menu to each element\n\t\t\tfor ( idx = 0; idx < elements.length; idx++ ) {\n\t\t\t\telements[ idx ].ctxMenu = obj;\n\t\t\t\telements[ idx ].addEventListener( obj.event, onContextMenu );\n\t\t\t}\n\t\t},\n\n\n\t\t\n\t\t/**\n\t\t * Display a context menu with an element or event. \n\t\t * Useful for when you don't want to attach the context\n\t\t * menu to a whole bunch of things but just display it\n\t\t * dynamically.\n\t\t * \n\t\t * @example\n\t\t *\t$( document ).on( \"click\", \".target-button\", function( e ) {\n\t\t *\t\tContextMenu.display( e.target, menu, { horizontalOffset : 5 } );\n\t\t *\t} );\n\t\t *\t\n\t\t * @example\n\t\t *\t$( document ).on( \"click\", \".target-button\", function( e ) {\n\t\t *\t\tContextMenu.display( e, menu, { horizontalOffset : 5 } );\n\t\t *\t} );\n\t\t * \n\t\t * @param {Event|HTMLElement} e\n\t\t * @param {Array|Object} menu\n\t\t * @param {Object} options\n\t\t */\n\t\tdisplay : function( e, menu, options ) {\n\t\t\tmenu = normalizeMenu( extend( {}, menu ) );\n\n\t\t\t// Create object to associate with element(s).\n\t\t\t// extend() is used so that we have a unique copy.\n\t\t\tvar contextMenu = extend( { menu : extend( {}, menu ) }, conf, options );\n\n\t\t\t// Is e a selector or an event?\n\t\t\tif ( e instanceof Event ) {\n\t\t\t\te.target.ctxMenu = contextMenu;\n\t\t\t\tonContextMenu( e );\n\t\t\t} else if ( typeof jQuery !== \"undefined\" && e instanceof jQuery.Event ) {\n\t\t\t\te.target.ctxMenu = contextMenu;\n\t\t\t\tonContextMenu( e );\n\t\t\t} else if ( e instanceof HTMLElement ) {\n\t\t\t\te.ctxMenu = contextMenu;\n\t\t\t\t\n\t\t\t\t// Create a simulated event\n\t\t\t\tvar box = e.getBoundingClientRect();\n\t\t\t\tvar evt = {\n\t\t\t\t\ttarget: e,\n\t\t\t\t\tclientX: box.left,\n\t\t\t\t\tclientY: box.top,\n\t\t\t\t\tstopPropagation: function() {},\n\t\t\t\t\tpreventDefault: function() {}\n\t\t\t\t}\n\t\t\t\tonContextMenu( evt );\n\t\t\t} else {\n\t\t\t\tconsole.log( e );\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Disable a menu items\n\t\t *\n\t\t * @param {jQuery|NodeList|HTMLElement|String} selector\n\t\t * @param {String|int} key The key passed in to the menu object in .attach()\n\t\t */\n\t\tdisable : function( selector, key ) {\n\t\t\tsetEnabledState( selector, key, false );\n\t\t},\n\n\n\n\t\t/**\n\t\t * Disable a menu items\n\t\t *\n\t\t * @param {jQuery|NodeList|HTMLElement|String} selector\n\t\t * @param {String|int} key The key passed in to the menu object in .attach()\n\t\t */\n\t\tenable : function( selector, key ) {\n\t\t\tsetEnabledState( selector, key, true );\n\t\t},\n\n\n\n\t\t/**\n\t\t * Close context menu(s)\n\t\t */\n\t\tclose : function() {\n\t\t\tcloseContextMenu();\n\t\t},\n\n\n\n\t\t/**\n\t\t * Check if a context menu is open\n\t\t * @returns {boolean}\n\t\t */\n\t\tisOpen : function() {\n\t\t\treturn isOpen;\n\t\t}\n\t};\n\n\n\n\t/**\n\t * Expose\n\t */\n\t// AMD\n\tif ( typeof window.define === \"function\" && window.define.amd !== undefined ) {\n\t\twindow.define( 'ContextMenu', [], function () {\n\t\t\treturn ContextMenu;\n\t\t} );\n\t// CommonJS\n\t} else if ( typeof module !== \"undefined\" && module.exports !== undefined ) {\n\t\tmodule.exports = ContextMenu;\n\t// Browser\n\t} else {\n\t\twindow.ContextMenu = ContextMenu;\n\t}\n} )();\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","/*\nSimple Javascript undo and redo.\nhttps://github.com/ArthurClemens/Javascript-Undo-Manager\n*/\n\n;(function() {\n\n\t'use strict';\n\n    function removeFromTo(array, from, to) {\n        array.splice(from,\n            !to ||\n            1 + to - from + (!(to < 0 ^ from >= 0) && (to < 0 || -1) * array.length));\n        return array.length;\n    }\n\n    var UndoManager = function() {\n\n        var commands = [],\n            index = -1,\n            limit = 0,\n            isExecuting = false,\n            callback,\n            \n            // functions\n            execute;\n\n        execute = function(command, action) {\n            if (!command || typeof command[action] !== \"function\") {\n                return this;\n            }\n            isExecuting = true;\n\n            command[action]();\n\n            isExecuting = false;\n            return this;\n        };\n\n        return {\n\n            /*\n            Add a command to the queue.\n            */\n            add: function (command) {\n                if (isExecuting) {\n                    return this;\n                }\n                // if we are here after having called undo,\n                // invalidate items higher on the stack\n                commands.splice(index + 1, commands.length - index);\n\n                commands.push(command);\n                \n                // if limit is set, remove items from the start\n                if (limit && commands.length > limit) {\n                    removeFromTo(commands, 0, -(limit+1));\n                }\n                \n                // set the current index to the end\n                index = commands.length - 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Pass a function to be called on undo and redo actions.\n            */\n            setCallback: function (callbackFunc) {\n                callback = callbackFunc;\n            },\n\n            /*\n            Perform undo: call the undo function at the current index and decrease the index by 1.\n            */\n            undo: function () {\n                var command = commands[index];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"undo\");\n                index -= 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Perform redo: call the redo function at the next index and increase the index by 1.\n            */\n            redo: function () {\n                var command = commands[index + 1];\n                if (!command) {\n                    return this;\n                }\n                execute(command, \"redo\");\n                index += 1;\n                if (callback) {\n                    callback();\n                }\n                return this;\n            },\n\n            /*\n            Clears the memory, losing all stored states. Reset the index.\n            */\n            clear: function () {\n                var prev_size = commands.length;\n\n                commands = [];\n                index = -1;\n\n                if (callback && (prev_size > 0)) {\n                    callback();\n                }\n            },\n\n            hasUndo: function () {\n                return index !== -1;\n            },\n\n            hasRedo: function () {\n                return index < (commands.length - 1);\n            },\n\n            getCommands: function () {\n                return commands;\n            },\n\n            getIndex: function() {\n                return index;\n            },\n            \n            setLimit: function (l) {\n                limit = l;\n            }\n        };\n    };\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn UndoManager;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = UndoManager;\n\t} else {\n\t\twindow.UndoManager = UndoManager;\n\t}\n\n}());\n","!function(){function a(a,b){var d=c(\"div\",null,\"qs_label\",b);return d.innerHTML=a,d}function b(a,b,d,e){var f=c(\"input\",b,d,e);return f.type=a,f}function c(a,b,c,d){var e=document.createElement(a);if(e)return e.id=b,c&&(e.className=c),d&&d.appendChild(e),e}function d(){return navigator.userAgent.indexOf(\"rv:11\")!=-1||navigator.userAgent.indexOf(\"MSIE\")!=-1}function e(){var a=navigator.userAgent.toLowerCase();return!(a.indexOf(\"chrome\")>-1||a.indexOf(\"firefox\")>-1||a.indexOf(\"epiphany\")>-1)&&a.indexOf(\"safari/\")>-1}function f(){var a=navigator.userAgent.toLowerCase();return a.indexOf(\"edge\")>-1}function g(){var a=document.createElement(\"style\");a.innerText=i,document.head.appendChild(a),h=!0}var h=!1,i=\".qs_main{background-color:#dddddd;text-align:left;position:absolute;width:200px;font:12px sans-serif;box-shadow:5px 5px 8px rgba(0,0,0,0.35);user-select:none;-webkit-user-select:none;color:#000000;border:none}.qs_content{background-color:#cccccc;overflow-y:auto}.qs_title_bar{background-color:#eeeeee;user-select:none;-webkit-user-select:none;cursor:pointer;padding:5px;font-weight:bold;border:none;color:#000000}.qs_container{margin:5px;padding:5px;background-color:#eeeeee;border:none;position:relative}.qs_container_selected{border:none;background-color:#ffffff}.qs_range{-webkit-appearance:none;-moz-appearance:none;width:100%;height:17px;padding:0;margin:0;background-color:transparent;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_range:focus{outline:none;border:none}.qs_range::-webkit-slider-runnable-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-webkit-slider-runnable-track{background:#cccccc}.qs_range::-webkit-slider-thumb{-webkit-appearance:none;height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;margin-top:0}.qs_range::-moz-range-track{width:100%;height:15px;cursor:pointer;background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range::-moz-range-thumb{height:15px;width:15px;border:none;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer}.qs_range::-ms-track{width:100%;height:15px;cursor:pointer;visibility:hidden;background:transparent}.qs_range::-ms-thumb{height:15px;width:15px;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;background:#999999;cursor:pointer;border:none}.qs_range::-ms-fill-lower{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-lower{background:#cccccc}.qs_range::-ms-fill-upper{background:#cccccc;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.qs_range:focus::-ms-fill-upper{background:#cccccc}.qs_button{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif}.qs_button:active{background-color:#ffffff;border:1px solid #aaaaaa}.qs_button:focus{border:1px solid #aaaaaa;outline:none}.qs_checkbox{cursor:pointer}.qs_checkbox input{position:absolute;left:-99999px}.qs_checkbox span{height:16px;width:100%;display:block;text-indent:20px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVQ4T2OcOXPmfwYKACPIgLS0NLKMmDVrFsOoAaNhMJoOGBioFwZkZUWoJgApdFaxjUM1YwAAAABJRU5ErkJggg==') no-repeat}.qs_checkbox input:checked+span{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T63Tyw2EIBAA0OFKBxBL40wDRovAUACcKc1IB1zZDAkG18GYZTmSmafzgTnnMgwchoDWGlJKheGcP3JtnPceCqCUAmttSZznuYtgchsXQrgC+77DNE0kUpPbmBOoJaBOIVQylnqWgAAeKhDve/AN+EaklJBzhhgjWRoJVGTbNjiOowAIret6a+4jYIwpX8aDwLIs74C2D0IIYIyVP6Gm898m9kbVm85ljHUTf16k4VUefkwDrxk+zoUEwCt0GbUAAAAASUVORK5CYII=') no-repeat}.qs_checkbox_label{position:absolute;top:7px;left:30px}.qs_label{margin-bottom:3px;user-select:none;-webkit-user-select:none;cursor:default;font:12px sans-serif}.qs_text_input{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;width:100%;padding:0 0 0 5px;height:24px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_text_input:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_select{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAp0lEQVRIS+2SsQ3FIAwF7RVYhA5mgQFhFuhYhJKWL0eKxI8SGylKZ0p4+OBsHGNM+HChAiS7qkgyBKrovaLeOxhjbgtxZ+cFtgelFMg5QwgBvPd/EO5sDbKAlBLUWo/8CjmL075zDmKMj6rEKbpCqBL9aqc4ZUQAhVbInBMQUXz5Vg/WfxOktXZsWWtZLds9uIqlqaH1NFV3jdhSJA47E1CAaE8ViYp+wGiWMZ/T+cgAAAAASUVORK5CYII=') no-repeat right #f6f6f6;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#000000;width:100%;height:24px;border:1px solid #aaaaaa;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;padding:0 5px;-moz-outline:none;font-size:14px}.qs_select option{font-size:14px}.qs_select::-ms-expand{display:none}.qs_select:focus{outline:none}.qs_number{height:24px}.qs_image{width:100%}.qs_progress{width:100%;height:15px;background-color:#cccccc;border:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_progress_value{height:100%;background-color:#999999}.qs_textarea{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;resize:vertical;width:100%;padding:3px 5px;border:1px inset #ffffff;background-color:#ffffff;color:#000000;font-size:12px}.qs_textarea:focus{outline:none;background:#ffffff;border:1px inset #ffffff}.qs_color{position:absolute;left:-999999px}.qs_color_label{width:100%;height:20px;display:block;border:1px solid #aaaaaa;cursor:pointer;padding:0 0 0 5px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qs_file_chooser{position:absolute;left:-999999px}.qs_file_chooser_label{background-color:#f6f6f6;color:#000000;height:30px;border:1px solid #aaaaaa;font:12px sans-serif;width:100%;display:block;cursor:pointer;padding:7px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\",j={_version:\"2.1\",_topZ:1,_panel:null,_titleBar:null,_content:null,_startX:0,_startY:0,_hidden:!1,_collapsed:!1,_controls:null,_keyCode:-1,_draggable:!0,_collapsible:!0,_globalChangeHandler:null,useExtStyleSheet:function(){h=!0},create:function(a,b,c,d){var e=Object.create(this);return e._init(a,b,c,d),e},destroy:function(){this._panel.parentElement&&this._panel.parentElement.removeChild(this._panel);for(var a in this)this[a]=null},_init:function(a,b,c,d){h||g(),this._bindHandlers(),this._createPanel(a,b,d),this._createTitleBar(c||\"QuickSettings\"),this._createContent()},_bindHandlers:function(){this._startDrag=this._startDrag.bind(this),this._drag=this._drag.bind(this),this._endDrag=this._endDrag.bind(this),this._doubleClickTitle=this._doubleClickTitle.bind(this),this._onKeyUp=this._onKeyUp.bind(this)},getValuesAsJSON:function(a){var b={};for(var c in this._controls)this._controls[c].getValue&&(b[c]=this._controls[c].getValue());return a&&(b=JSON.stringify(b)),b},setValuesFromJSON:function(a){\"string\"==typeof a&&(a=JSON.parse(a));for(var b in a)this._controls[b].setValue&&this._controls[b].setValue(a[b]);return this},saveInLocalStorage:function(a){return this._localStorageName=a,this._readFromLocalStorage(a),this},clearLocalStorage:function(a){return localStorage.removeItem(a),this},_saveInLocalStorage:function(a){localStorage.setItem(a,this.getValuesAsJSON(!0))},_readFromLocalStorage:function(a){var b=localStorage.getItem(a);b&&this.setValuesFromJSON(b)},_createPanel:function(a,b,d){this._panel=c(\"div\",null,\"qs_main\",d||document.body),this._panel.style.zIndex=++j._topZ,this.setPosition(a||0,b||0),this._controls={}},_createTitleBar:function(a){this._titleBar=c(\"div\",null,\"qs_title_bar\",this._panel),this._titleBar.textContent=a,this._titleBar.addEventListener(\"mousedown\",this._startDrag),this._titleBar.addEventListener(\"dblclick\",this._doubleClickTitle)},_createContent:function(){this._content=c(\"div\",null,\"qs_content\",this._panel)},_createContainer:function(){var a=c(\"div\",null,\"qs_container\");return a.addEventListener(\"focus\",function(){this.className+=\" qs_container_selected\"},!0),a.addEventListener(\"blur\",function(){var a=this.className.indexOf(\" qs_container_selected\");a>-1&&(this.className=this.className.substr(0,a))},!0),this._content.appendChild(a),a},setPosition:function(a,b){return this._panel.style.left=a+\"px\",this._panel.style.top=Math.max(b,0)+\"px\",this},setSize:function(a,b){return this._panel.style.width=a+\"px\",this._content.style.width=a+\"px\",this._content.style.height=b-this._titleBar.offsetHeight+\"px\",this},setWidth:function(a){return this._panel.style.width=a+\"px\",this._content.style.width=a+\"px\",this},setHeight:function(a){return this._content.style.height=a-this._titleBar.offsetHeight+\"px\",this},setDraggable:function(a){return this._draggable=a,this._draggable||this._collapsible?this._titleBar.style.cursor=\"pointer\":this._titleBar.style.cursor=\"default\",this},_startDrag:function(a){this._draggable&&(this._panel.style.zIndex=++j._topZ,document.addEventListener(\"mousemove\",this._drag),document.addEventListener(\"mouseup\",this._endDrag),this._startX=a.clientX,this._startY=a.clientY),a.preventDefault()},_drag:function(a){var b=parseInt(this._panel.style.left),c=parseInt(this._panel.style.top),d=a.clientX,e=a.clientY;this.setPosition(b+d-this._startX,c+e-this._startY),this._startX=d,this._startY=e,a.preventDefault()},_endDrag:function(a){document.removeEventListener(\"mousemove\",this._drag),document.removeEventListener(\"mouseup\",this._endDrag),a.preventDefault()},setGlobalChangeHandler:function(a){return this._globalChangeHandler=a,this},_callGCH:function(){this._localStorageName&&this._saveInLocalStorage(this._localStorageName),this._globalChangeHandler&&this._globalChangeHandler()},hide:function(){return this._panel.style.visibility=\"hidden\",this._hidden=!0,this},show:function(){return this._panel.style.visibility=\"visible\",this._panel.style.zIndex=++j._topZ,this._hidden=!1,this},toggleVisibility:function(){return this._hidden?this.show():this.hide(),this},setCollapsible:function(a){return this._collapsible=a,this._draggable||this._collapsible?this._titleBar.style.cursor=\"pointer\":this._titleBar.style.cursor=\"default\",this},collapse:function(){return this._panel.removeChild(this._content),this._collapsed=!0,this},expand:function(){return this._panel.appendChild(this._content),this._collapsed=!1,this},toggleCollapsed:function(){return this._collapsed?this.expand():this.collapse(),this},setKey:function(a){return this._keyCode=a.toUpperCase().charCodeAt(0),document.body.addEventListener(\"keyup\",this.onKeyUp),this},_onKeyUp:function(a){a.keyCode===this._keyCode&&this.toggleVisibility()},_doubleClickTitle:function(){this._collapsible&&this.toggleCollapsed()},removeControl:function(a){if(this._controls[a])var b=this._controls[a].container;return b&&b.parentElement&&b.parentElement.removeChild(b),this._controls[a]=null,this},enableControl:function(a){return this._controls[a]&&(this._controls[a].control.disabled=!1),this},disableControl:function(a){return this._controls[a]&&(this._controls[a].control.disabled=!0),this},hideControl:function(a){return this._controls[a]&&(this._controls[a].container.style.display=\"none\"),this},showControl:function(a){return this._controls[a]&&(this._controls[a].container.style.display=\"block\"),this},overrideStyle:function(a,b,c){return this._controls[a]&&(this._controls[a].control.style[b]=c),this},hideTitle:function(a){var b=this._controls[a].label;return b&&(b.style.display=\"none\"),this},showTitle:function(a){var b=this._controls[a].label;return b&&(b.style.display=\"block\"),this},hideAllTitles:function(){for(var a in this._controls){var b=this._controls[a].label;b&&(b.style.display=\"none\")}return this},showAllTitles:function(){for(var a in this._controls){var b=this._controls[a].label;b&&(b.style.display=\"block\")}return this},getValue:function(a){return this._controls[a].getValue()},setValue:function(a,b){return this._controls[a].setValue(b),this._callGCH(),this},addBoolean:function(a,d,e){var f=this._createContainer(),g=c(\"label\",null,\"qs_checkbox_label\",f);g.textContent=a,g.setAttribute(\"for\",a);var h=c(\"label\",null,\"qs_checkbox\",f);h.setAttribute(\"for\",a);var i=b(\"checkbox\",a,null,h);i.checked=d;c(\"span\",null,null,h);this._controls[a]={container:f,control:i,getValue:function(){return this.control.checked},setValue:function(a){this.control.checked=a,e&&e(a)}};var j=this;return i.addEventListener(\"change\",function(){e&&e(i.checked),j._callGCH()}),this},bindBoolean:function(a,b,c){return this.addBoolean(a,b,function(b){c[a]=b})},addButton:function(a,c){var d=this._createContainer(),e=b(\"button\",a,\"qs_button\",d);e.value=a,this._controls[a]={container:d,control:e};var f=this;return e.addEventListener(\"click\",function(){c&&c(e),f._callGCH()}),this},addColor:function(g,h,i){if(e()||f()||d())return this.addText(g,h,i);var j=this._createContainer(),k=a(\"<b>\"+g+\":</b> \"+h,j),l=b(\"color\",g,\"qs_color\",j);l.value=h||\"#ff0000\";var m=c(\"label\",null,\"qs_color_label\",j);m.setAttribute(\"for\",g),m.style.backgroundColor=l.value,this._controls[g]={container:j,control:l,colorLabel:m,label:k,title:g,getValue:function(){return this.control.value},setValue:function(a){this.control.value=a,this.colorLabel.style.backgroundColor=l.value,this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.control.value,i&&i(a)}};var n=this;return l.addEventListener(\"input\",function(){k.innerHTML=\"<b>\"+g+\":</b> \"+l.value,m.style.backgroundColor=l.value,i&&i(l.value),n._callGCH()}),this},bindColor:function(a,b,c){return this.addColor(a,b,function(b){c[a]=b})},addDate:function(c,e,f){var g;if(e instanceof Date){var h=e.getFullYear(),i=e.getMonth()+1;i<10&&(i=\"0\"+i);var j=e.getDate();g=h+\"-\"+i+\"-\"+j}else g=e;if(d())return this.addText(c,g,f);var k=this._createContainer(),l=a(\"<b>\"+c+\"</b>\",k),m=b(\"date\",c,\"qs_text_input\",k);m.value=g||\"\",this._controls[c]={container:k,control:m,label:l,getValue:function(){return this.control.value},setValue:function(a){var b;if(a instanceof Date){var c=a.getFullYear(),d=a.getMonth()+1;d<10&&(d=\"0\"+d);var e=a.getDate();e<10&&(e=\"0\"+e),b=c+\"-\"+d+\"-\"+e}else b=a;this.control.value=b||\"\",f&&f(b)}};var n=this;return m.addEventListener(\"input\",function(){f&&f(m.value),n._callGCH()}),this},bindDate:function(a,b,c){return this.addDate(a,b,function(b){c[a]=b})},addDropDown:function(b,d,e){for(var f=this._createContainer(),g=a(\"<b>\"+b+\"</b>\",f),h=c(\"select\",null,\"qs_select\",f),i=0;i<d.length;i++){var j=c(\"option\");j.label=d[i],j.innerText=d[i],h.add(j)}var k=this;return h.addEventListener(\"change\",function(){var a=h.selectedIndex,b=h.options;e&&e({index:a,value:b[a].label}),k._callGCH()}),this._controls[b]={container:f,control:h,label:g,getValue:function(){var a=this.control.selectedIndex;return{index:a,value:this.control.options[a].label}},setValue:function(a){var b;b=null!=a.index?a.index:a;var c=this.control.options;this.control.selectedIndex=b,e&&e({index:b,value:c[b].label})}},this},bindDropDown:function(a,b,c){return this.addDropDown(a,b,function(b){c[a]=b.value})},addElement:function(b,c){var d=this._createContainer(),e=a(\"<b>\"+b+\"</b>\",d);return d.appendChild(c),this._controls[b]={container:d,label:e},this},addFileChooser:function(d,e,f,g){var h=this._createContainer(),i=a(\"<b>\"+d+\"</b>\",h),j=b(\"file\",d,\"qs_file_chooser\",h);f&&(j.accept=f);var k=c(\"label\",null,\"qs_file_chooser_label\",h);k.setAttribute(\"for\",d),k.textContent=e||\"Choose a file...\",this._controls[d]={container:h,control:j,label:i,getValue:function(){return this.control.files[0]}};var l=this;return j.addEventListener(\"change\",function(){j.files&&j.files.length&&(k.textContent=j.files[0].name,g&&g(j.files[0]),l._callGCH())}),this},addHTML:function(b,d){var e=this._createContainer(),f=a(\"<b>\"+b+\":</b> \",e),g=c(\"div\",null,null,e);return g.innerHTML=d,this._controls[b]={label:f,control:g,getValue:function(){return this.control.innerHTML},setValue:function(a){this.control.innerHTML=a}},this},addImage:function(b,d){var e=this._createContainer(),f=a(\"<b>\"+b+\"</b>\",e);return img=c(\"img\",null,\"qs_image\",e),img.src=d,this._controls[b]={container:e,control:img,label:f,getValue:function(){return this.control.src},setValue:function(a){this.control.src=a}},this},addRange:function(a,b,c,d,e,f){return this._addNumber(\"range\",a,b,c,d,e,f)},addNumber:function(a,b,c,d,e,f){return this._addNumber(\"number\",a,b,c,d,e,f)},_addNumber:function(c,e,f,g,h,i,j){var k=this._createContainer(),l=a(\"\",k),m=\"range\"===c?\"qs_range\":\"qs_text_input qs_number\",n=b(c,e,m,k);n.min=f||0,n.max=g||100,n.step=i||1,n.value=h||0,l.innerHTML=\"<b>\"+e+\":</b> \"+n.value,this._controls[e]={container:k,control:n,label:l,title:e,callback:j,getValue:function(){return parseFloat(this.control.value)},setValue:function(a){this.control.value=a,this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.control.value,j&&j(parseFloat(a))}};var o=\"input\";\"range\"===c&&d()&&(o=\"change\");var p=this;return n.addEventListener(o,function(){l.innerHTML=\"<b>\"+e+\":</b> \"+n.value,j&&j(parseFloat(n.value)),p._callGCH()}),this},bindRange:function(a,b,c,d,e,f){return this.addRange(a,b,c,d,e,function(b){f[a]=b})},bindNumber:function(a,b,c,d,e,f){return this.addNumber(a,b,c,d,e,function(b){f[a]=b})},setRangeParameters:function(a,b,c,d){return this.setNumberParameters(a,b,c,d)},setNumberParameters:function(a,b,c,d){var e=this._controls[a],f=e.control.value;return e.control.min=b,e.control.max=c,e.control.step=d,e.control.value!==f&&e.callback&&e.callback(e.control.value),this},addPassword:function(a,b,c){return this._addText(\"password\",a,b,c)},bindPassword:function(a,b,c){return this.addPassword(a,b,function(b){c[a]=b})},addProgressBar:function(b,d,e,f){var g=this._createContainer(),h=a(\"\",g),i=c(\"div\",null,\"qs_progress\",g),j=c(\"div\",null,\"qs_progress_value\",i);return j.style.width=e/d*100+\"%\",\"numbers\"===f?h.innerHTML=\"<b>\"+b+\":</b> \"+e+\" / \"+d:\"percent\"===f?h.innerHTML=\"<b>\"+b+\":</b> \"+Math.round(e/d*100)+\"%\":h.innerHTML=\"<b>\"+b+\"</b>\",this._controls[b]={container:g,control:i,valueDiv:j,valueDisplay:f,label:h,value:e,max:d,title:b,getValue:function(){return this.value},setValue:function(a){this.value=Math.max(0,Math.min(a,this.max)),this.valueDiv.style.width=this.value/this.max*100+\"%\",\"numbers\"===this.valueDisplay?this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+this.value+\" / \"+this.max:\"percent\"===this.valueDisplay&&(this.label.innerHTML=\"<b>\"+this.title+\":</b> \"+Math.round(this.value/this.max*100)+\"%\")}},this},setProgressMax:function(a,b){var c=this._controls[a];return c.max=b,c.value=Math.min(c.value,c.max),c.valueDiv.style.width=c.value/c.max*100+\"%\",\"numbers\"===c.valueDisplay?c.label.innerHTML=\"<b>\"+c.title+\":</b> \"+c.value+\" / \"+c.max:\"percent\"===c.valueDisplay?c.label.innerHTML=\"<b>\"+c.title+\":</b> \"+Math.round(c.value/c.max*100)+\"%\":c.label.innerHTML=\"<b>\"+c.title+\"</b>\",this},addText:function(a,b,c){return this._addText(\"text\",a,b,c)},_addText:function(d,e,f,g){var h,i=this._createContainer(),j=a(\"<b>\"+e+\"</b>\",i);\"textarea\"===d?(h=c(\"textarea\",e,\"qs_textarea\",i),h.rows=5):h=b(d,e,\"qs_text_input\",i),h.value=f||\"\",this._controls[e]={container:i,control:h,label:j,getValue:function(){return this.control.value},setValue:function(a){this.control.value=a,g&&g(a)}};var k=this;return h.addEventListener(\"input\",function(){g&&g(h.value),k._callGCH()}),this},bindText:function(a,b,c){return this.addText(a,b,function(b){c[a]=b})},addTextArea:function(a,b,c){return this._addText(\"textarea\",a,b,c)},setTextAreaRows:function(a,b){return this._controls[a].control.rows=b,this},bindTextArea:function(a,b,c){return this.addTextArea(a,b,function(b){c[a]=b})},addTime:function(c,e,f){var g;if(e instanceof Date){var h=e.getHours();h<10&&(h=\"0\"+h);var i=e.getMinutes();i<10&&(i=\"0\"+i);var j=e.getSeconds();j<10&&(j=\"0\"+j),g=h+\":\"+i+\":\"+j}else g=e;if(d())return this.addText(c,g,f);var k=this._createContainer(),l=a(\"<b>\"+c+\"</b>\",k),m=b(\"time\",c,\"qs_text_input\",k);m.value=g||\"\",this._controls[c]={container:k,control:m,label:l,getValue:function(){return this.control.value},setValue:function(a){var b;if(a instanceof Date){var c=a.getHours();c<10&&(c=\"0\"+c);var d=a.getMinutes();d<10&&(d=\"0\"+d);var e=a.getSeconds();e<10&&(e=\"0\"+e),b=c+\":\"+d+\":\"+e}else b=a;this.control.value=b||\"\",f&&f(b)}};var n=this;return m.addEventListener(\"input\",function(){f&&f(m.value),n._callGCH()}),this},bindTime:function(a,b,c){return this.addTime(a,b,function(b){c[a]=b})}};\"object\"==typeof exports&&\"object\"==typeof module?module.exports=j:\"function\"==typeof define&&define.amd?define(j):window.QuickSettings=j}();","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./contextmenu.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./contextmenu.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./contextmenu.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"div.context-menu {\\n\\tposition : fixed;\\n\\tborder: 1px solid #ccc;\\n\\tbackground-color: #eee;\\n\\tmin-width : 100px;\\n\\tpadding: 2px;\\n\\tbox-shadow : 2px 2px 4px #444;\\n\\tdisplay : inline-block;\\n\\tz-index : 10002;\\n\\tcursor : default;\\n}\\n\\ndiv.context-menu>div {\\n\\tpadding : 5px 25px;\\n\\tfont-family: sans-serif;\\n\\tfont-size: 0.8em;\\n}\\n\\ndiv.context-menu-item:hover {\\n\\tbackground-color : #c3d6ee;\\n}\\n\\ndiv.context-menu-item-disabled {\\n\\tcolor : #aaa;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","export function between(val: number, refA: number, refB: number, included = true): boolean {\n\tif (refA > refB) {\n\t\tlet refT = refA;\n\t\trefA = refB;\n\t\trefB = refT;\n\t}\n\treturn included ? val >= refA && val <= refB : val > refA && val < refB\n}\n\nexport function round(x: number, digits: number): number {\n\treturn parseFloat(x.toFixed(digits))\n}\n\nexport function openWindow(url: string, width = 400, height = 300): void {\n\twindow.open(url, \"_blank\", `width=${width},height=${height}`);\n}","import { round } from \"./utils\";\nimport { Movable } from \"./interface.movable\";\n\ntype Axle = \"x\"|\"y\";\n\n/**\n * Class representing a 2d xy coordinate\n*/\nexport class Coord implements Movable {\n\n\tconstructor(\n\t\tpublic x: number = 0,\n\t\tpublic y: number = 0\n\t) {}\n\n\tset(x: number, y: number): this {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t}\n\n\tstatic fromObject(obj: Object): Coord {\n\t\treturn new Coord((<Coord>obj).x, (<Coord>obj).y);\n\t}\n\n\t/**\n\t * returns the distance between two xy coordinates\n\t * @param {Coord} coord1 \n\t * @param {Coord} coord2 \n\t */\n\tstatic dist(coord1: Coord, coord2: Coord): number {\n\t\treturn Math.sqrt(Math.pow(coord1.x - coord2.x, 2) + Math.pow(coord1.y - coord2.y, 2));\n\t}\n\n\t/**\n\t * Exchanges a value between two xy coordinates\n\t * @param {Coord} coord1 \n\t * @param {Coord} coord2 \n\t * @param {Axle} val\n\t */\n\tstatic swap(coord1: Coord, coord2: Coord, val: Axle): void {\n\t\tlet tmp = coord1[val];\n\t\tcoord1[val] = coord2[val];\n\t\tcoord2[val] = tmp;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn !this.x && !this.y;\n\t}\n\n\toneIsEmpty(): boolean {\n\t\treturn !this.x || !this.y\n\t}\n\n\t/**\n\t * returns the sum of two xy coordinates\n\t * @param {Coord} coord \n\t */\n\tsum(coord: Coord): Coord {\n\t\treturn new Coord(this.x + coord.x, this.y + coord.y);\n\t}\n\n\t/**\n\t * Add the value of the given coordinate to the current one\n\t * @param {Coord} coord \n\t */\n\tadd(coord: Coord): this {\n\t\tthis.x += coord.x;\n\t\tthis.y += coord.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * returns the difference of two xy coordinates\n\t * @param {Coord} coord \n\t */\n\tdiff(coord: Coord): Coord {\n\t\treturn new Coord(this.x - coord.x, this.y - coord.y);\n\t}\n\n\t/**\n\t * Substract the value of the given coordinate to the current one\n\t * @param {Coord} coord \n\t */\n\tsub(coord: Coord): this {\n\t\tthis.x -= coord.x;\n\t\tthis.y -= coord.y;\n\t\treturn this;\n\t}\n\n\t//------------------------ Start Interface Movable -------------------------------\n\t/**\n\t * Alias of add\n\t * @param {Coord} coord\n\t */\n\tmove(coord: Coord): void {\n\t\tthis.add(coord);\n\t}\n\n\tgetPosition(): Coord {\n\t\treturn this;\n\t}\n\n\tsetPosition(coord: Coord): this {\n\t\tthis.set(coord.x, coord.y);\n\t\treturn this;\n\t}\n\t//------------------------- End Interface Movable --------------------------------\n\n\tclone(): Coord {\n\t\treturn new Coord(this.x, this.y);\n\t}\n\n\tinvert(): Coord {\n\t\treturn new Coord(- this.x, -this.y);\n\t}\n\n\ttoStr(dec: number, val: Axle, scale: number): string {\n\t\treturn round(this[val] * scale, dec).toString();\n\t}\n\n\ttoHtml(dec: number, scale = 1): string {\n\t\treturn this.toStr(dec, \"x\", scale) + \",\" + this.toStr(dec, \"y\", scale);\n\t}\n\n}","import { round } from \"./utils\";\nimport { Coord } from \"./class.coord\";\nimport { ImageMap } from \"./class.image-map\";\nimport * as p5 from \"p5\";\n\nexport type Shape = \"empty\" | \"rect\" | \"circle\" | \"poly\" | \"default\";\n\nexport abstract class Area {\n\n\t/**\n\t * @param {Shape} shape the type of area\n\t * @param {Coord[]} coords the list of coordinates\n\t * @param {string} href the link this area is going to point to\n\t * @param {number} id the unique id\n\t */\n\tconstructor(\n\t\tprotected shape: Shape,\n\t\tprotected coords: Coord[] = [],\n\t\tprotected href: string = \"\",\n\t\tprotected title: string = \"\",\n\t\tpublic id: number = 0) {\n\t}\n\n\tstatic fromObject(o: Object): Area {\n\t\tswitch ((<Area>o).shape) {\n\t\t\tcase 'rect':\n\t\t\t\tconst r = o as AreaRect;\n\t\t\t\treturn new AreaRect(r.coords.map(Coord.fromObject), r.href, r.title, r.id);\n\t\t\tcase 'circle':\n\t\t\t\tconst c = o as AreaCircle\n\t\t\t\treturn new AreaCircle(c.coords.map(Coord.fromObject), c.radius, c.href, c.title, c.id);\n\t\t\tcase 'poly':\n\t\t\t\tconst p = o as AreaPoly\n\t\t\t\treturn new AreaPoly(p.coords.map(Coord.fromObject), p.href, p.title, p.id, p.closed);\n\t\t\tcase 'default':\n\t\t\t\tconst d = o as AreaDefault\n\t\t\t\treturn new AreaDefault(d.iMap, d.href, d.title);\n\t\t\tdefault:\n\t\t\t\tthrow 'Not an area'\n\t\t}\n\t}\n\n\tgetId(): number {\n\t\treturn this.id;\n\t}\n\n\tsetShape(shape: Shape): this {\n\t\tthis.shape = shape;\n\t\treturn this;\n\t}\n\n\tgetShape(): Shape {\n\t\treturn this.shape;\n\t}\n\n\t/**\n\t * Adds a coordinate to the coords array, and returns it's new length\n\t * @param {Coord} coord coordinate\n\t */\n\taddCoord(coord: Coord): number {\n\t\treturn this.coords.push(coord);\n\t}\n\n\tsetCoords(coords: Coord[]): this {\n\t\tthis.coords = coords;\n\t\treturn this;\n\t}\n\n\tgetCoords(): Coord[] {\n\t\treturn this.coords;\n\t}\n\n\t/**\n\t * Returns a copy of this area's coordinates list\n\t */\n\tdrawingCoords(): Coord[] {\n\t\treturn this.coords.slice();\n\t}\n\n\tgetPoints(): Coord[] {\n\t\treturn this.coords;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this.coords.length == 0;\n\t}\n\n\t/**\n\t * @param {Area} area \n\t */\n\tequals(area: Area): boolean {\n\t\treturn this.id == area.id;\n\t}\n\n\t/**\n\t * Retuns a deep copy of this area's coordinates\n\t */\n\tcopyCoords(): Coord[] {\n\t\tlet copy: Coord[] = [];\n\t\tthis.coords.forEach((val, index) => {\n\t\t\tcopy[index] = new Coord(val.x, val.y);\n\t\t});\n\t\treturn copy;\n\t}\n\n\tupdateLastCoord(coord: Coord): this {\n\t\tthis.coords[this.coords.length - 1] = coord;\n\t\treturn this;\n\t}\n\n\t//------------------------ Start Interface Movable -------------------------------\n\tmove(coord: Coord): void {\n\t\tlet fcoord = this.firstCoord();\n\t\tif (coord != undefined) {\n\t\t\tfcoord.add(coord);\n\t\t}\n\t}\n\n\tgetPosition(): Coord {\n\t\treturn this.firstCoord();\n\t}\n\n\tsetPosition(coord: Coord): void {\n\t\tlet move = this.coords[0].diff(coord);\n\t\tthis.move(move);\n\t}\n\t//------------------------- End Interface Movable --------------------------------\n\n\tisValidShape(): boolean {\n\t\treturn this.isDrawable();\n\t}\n\n\t/**\n\t * @param {Coord} coord \n\t * @param {number} tolerance\n\t * @returns {Coord|false}\n\t */\n\tisOverPoint(coord: Coord, tolerance: number): Coord | false {\n\t\tlet point = this.getPoints().find(c => {\n\t\t\treturn Coord.dist(coord, c) < tolerance;\n\t\t});\n\t\treturn point ? point : false;\n\t}\n\n\tsetHref(url: string): this {\n\t\tthis.href = url;\n\t\treturn this;\n\t}\n\n\tgetHref(): string {\n\t\treturn this.href;\n\t}\n\n\tgetHrefVerbose(): string {\n\t\treturn this.href === \"\" ? \"undefined\" : this.href;\n\t}\n\n\tsetTitle(title: string): this {\n\t\tthis.title = title;\n\t\treturn this;\n\t}\n\n\tgetTitle(): string {\n\t\treturn this.title;\n\t}\n\n\tsetId(id: number): this {\n\t\tthis.id = id;\n\t\treturn this;\n\t}\n\n\tfirstCoord(): Coord {\n\t\treturn this.coords[0];\n\t}\n\n\thtmlCoords(dec: number, scale: number): string {\n\t\treturn this.drawingCoords().map(c => {\n\t\t\treturn c.toHtml(dec, scale);\n\t\t}).join(',');\n\t}\n\n\ttoHtml(scale: number = 1): string {\n\t\tlet htmlCoords = this.htmlCoords(0, scale);\n\t\thtmlCoords = htmlCoords ? `coords=\"${htmlCoords}\"` : \"\";\n\t\tconst href = this.href ? `href=\"${this.href}\"` : \"nohref\";\n\t\tconst title = this.title ? `title=\"${this.title}\"` : \"\";\n\t\treturn `<area shape=\"${this.shape}\" ${htmlCoords} ${href} alt=\"${this.href}\" ${title} />`;\n\t}\n\n\ttoSvg(scale = 1): string {\n\t\treturn `<a xlink:href=\"${this.href}\">${this.svgArea(scale)}</a>`;\n\t}\n\n\tabstract isDrawable(): boolean;\n\tabstract svgArea(scale: number): string;\n\tabstract isOver(coord: Coord): boolean;\n\tabstract display(p: p5): void;\n}\n\nexport class AreaEmpty extends Area {\n\tconstructor() {\n\t\tsuper(\"empty\");\n\t}\n\tisDrawable(): boolean {\n\t\treturn false\n\t}\n\n\tsvgArea(scale: number): string {\n\t\treturn \"\";\n\t}\n\n\tisOver(coord: Coord): boolean {\n\t\treturn false;\n\t}\n\n\tdisplay(p: p5): void {}\n}\n\nexport class AreaCircle extends Area {\n\t/**\n\t * @param {Coord[]} coords the list of coordinates\n\t * @param {number} radius radius of the circle\n\t * @param {string} href the link this area is going to point to\n\t * @param {number} id the unique id\n\t */\n\tconstructor(\n\t\tcoords: Coord[] = [],\n\t\tpublic radius: number = 0,\n\t\thref: string = \"\",\n\t\ttitle: string = \"\",\n\t\tid: number = 0\n\t) {\n\t\tsuper(\"circle\", coords, href, title, id);\n\t}\n\n\tgetCenter(): Coord {\n\t\treturn this.firstCoord();\n\t}\n\n\tisValidShape(): boolean {\n\t\treturn super.isValidShape() && this.radius > 0;\n\t}\n\n\tisDrawable(): boolean {\n\t\treturn this.coords.length == 1;\n\t}\n\n\tisOver(coord: Coord): boolean {\n\t\tlet center = this.getCenter();\n\t\treturn Coord.dist(coord, center) < this.radius;\n\t}\n\n\tupdateLastCoord(coord: Coord): this {\n\t\tlet center = this.getCenter();\n\t\tthis.radius = Coord.dist(center, coord);\n\t\treturn this\n\t}\n\n\t/**\n\t * draw the area to the given p5 instance\n\t * @param {p5} p5 \n\t */\n\tdisplay(p5: p5): void {\n\t\tp5.ellipse(this.getCenter().x, this.getCenter().y, this.radius * 2);\n\t}\n\n\thtmlCoords(dec: number, scale: number): string {\n\t\treturn this.getCenter().toHtml(dec, scale) + \",\" + round(this.radius, dec);\n\t}\n\n\tsvgArea(scale: number): string {\n\t\tlet x = this.coords[0].toStr(0, 'x', scale);\n\t\tlet y = this.coords[0].toStr(0, 'y', scale);\n\t\tlet r = round(this.radius, 0);\n\t\treturn `<circle cx=\"${x}\" cy=\"${y}\" r=\"${r}\" />`;\n\t}\n}\nexport class AreaPoly extends Area {\n\t/**\n\t * @param {Coord[]} coords the list of coordinates\n\t * @param {string} href the link this area is going to point to\n\t * @param {int} id the unique id\n\t */\n\tconstructor(\n\t\tcoords: Coord[] = [],\n\t\thref: string = \"\",\n\t\ttitle: string = \"\",\n\t\tid: number = 0,\n\t\tpublic closed = false\n\t) {\n\t\tsuper(\"poly\", coords, href, title, id);\n\t}\n\n\tisDrawable(): boolean {\n\t\treturn this.coords.length >= 2;\n\t}\n\n\tisValidShape(): boolean {\n\t\treturn super.isValidShape() && this.closed;\n\t}\n\n\tisOver(coord: Coord): boolean {\n\t\tlet x = coord.x;\n\t\tlet y = coord.y;\n\t\tlet cornersX = this.coords.map(c => { return c.x });\n\t\tlet cornersY = this.coords.map(c => { return c.y });\n\n\t\tlet i, j = cornersX.length - 1;\n\t\tlet oddNodes = 0;\n\n\t\tlet polyX = cornersX;\n\t\tlet polyY = cornersY;\n\n\t\tfor (i = 0; i < cornersX.length; i++) {\n\t\t\tif ((polyY[i] < y && polyY[j] >= y || polyY[j] < y && polyY[i] >= y) && (polyX[i] <= x || polyX[j] <= x)) {\n\t\t\t\toddNodes ^= (polyX[i] + (y - polyY[i]) / (polyY[j] - polyY[i]) * (polyX[j] - polyX[i]) < x) ? 1 : 0;\n\t\t\t}\n\t\t\tj = i;\n\t\t}\n\n\t\treturn Boolean(oddNodes);\n\t}\n\n\tisClosable(coord: Coord, tolerance: number): boolean {\n\t\tlet dist = Coord.dist(coord, this.firstCoord());\n\t\treturn this.coords.length >= 4 && dist < tolerance;\n\t}\n\n\tdrawingCoords(): Coord[] {\n\t\tlet coords = super.drawingCoords();\n\t\tif (this.closed) {\n\t\t\tcoords.push(this.firstCoord());\n\t\t}\n\t\treturn coords;\n\t}\n\n\tclose(): this {\n\t\tthis.closed = true;\n\t\tthis.coords.pop();\n\t\treturn this;\n\t}\n\n\tmove(coord: Coord): void {\n\t\tthis.coords.map(c => c.add(coord));\n\t}\n\n\t/**\n\t * draw the area to the given p5 instance\n\t * @param {p5} p5 \n\t */\n\tdisplay(p5: p5): void {\n\t\tp5.beginShape();\n\t\tthis.drawingCoords().forEach(c => p5.vertex(c.x, c.y));\n\t\tp5.endShape();\n\t}\n\n\tsvgArea(scale: number): string {\n\t\tlet points = this.drawingCoords().map(c => {\n\t\t\treturn c.toStr(0, 'x', scale) + ',' + c.toStr(0, 'y', scale);\n\t\t}).join(' ');\n\t\treturn `<polygon points=\"${points}\" />`;\n\t}\n}\n\nexport class AreaRect extends AreaPoly {\n\t/**\n\t * @param {Coord[]} coords the list of coordinates\n\t * @param {string} href the link this area is going to point to\n\t * @param {number} id the unique id\n\t */\n\tconstructor(\n\t\tcoords: Coord[] = [],\n\t\thref: string = \"\",\n\t\ttitle: string = \"\",\n\t\tid: number = 0\n\t) {\n\t\tsuper(coords, href, title, id, true);\n\t\tif (this.coords.length > 0 && this.coords.length < 4) {\n\t\t\tlet coord = this.firstCoord();\n\t\t\tthis.coords = [\n\t\t\t\tcoord,\n\t\t\t\tcoord.clone(),\n\t\t\t\tcoord.clone(),\n\t\t\t\tcoord.clone(),\n\t\t\t];\n\t\t}\n\t}\n\n\tisValidShape(): boolean {\n\t\treturn super.isValidShape() && !this.isNullArea();\n\t}\n\n\tprivate isNullArea(): boolean {\n\t\treturn this.coords[0].x == this.coords[1].x || this.coords[0].y == this.coords[3].y;\n\t}\n\n\tupdateLastCoord(coord: Coord): this {\n\t\tthis.coords[1].x = coord.x\n\t\tthis.coords[2] = coord;\n\t\tthis.coords[3].y = coord.y;\n\t\treturn this;\n\t}\n\n}\n\nexport class AreaDefault extends Area {\n\tprotected isDefault = true;\n\t/**\n\t * Constructor\n\t * @param {string} href the link this area is going to point to\n\t * @param {string} title the title on hover\n\t */\n\tconstructor(\n\t\tpublic iMap: ImageMap,\n\t\thref: string = \"\",\n\t\ttitle: string = \"\"\n\t) {\n\t\tsuper(\"default\", [], href, title);\n\t}\n\n\tisDrawable(): boolean {\n\t\treturn true;\n\t}\n\n\tisOver(): boolean {\n\t\treturn true;\n\t}\n\n\t/**\n\t * draw the area to the given p5 instance\n\t * @param {p5} p5 \n\t */\n\tdisplay(p5: p5): void {\n\t\tp5.rect(0, 0, this.iMap.width - 1, this.iMap.height - 1);\n\t}\n\n\tsvgArea(scale: number): string {\n\t\treturn '<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" />';\n\t}\n}","import { Area, AreaDefault } from \"./class.area\";\n\nexport class ImageMap {\n\n\tprotected dArea: AreaDefault = new AreaDefault(this);\n\tprotected lastId: number = 0;\n\n\t/**\n\t * Contructor\n\t * @param {Area[]} areas \n\t * @param {string} name \n\t * @param {boolean} hasDefaultArea\n\t */\n\tconstructor(\n\t\tpublic width: number,\n\t\tpublic height: number,\n\t\tprotected areas: Area[] = [],\n\t\tprotected name: string = \"\",\n\t\tpublic hasDefaultArea: boolean = false\n\t) {}\n\n\tsetFromObject(obj: Object): this {\n\t\tconst iMap = obj as ImageMap;\n\t\tiMap.dArea.iMap = this;\n\t\tthis.width = iMap.width;\n\t\tthis.height = iMap.height;\n\t\tthis.areas = iMap.areas.map(Area.fromObject);\n\t\tthis.name = iMap.name;\n\t\tthis.hasDefaultArea = iMap.hasDefaultArea;\n\t\tthis.dArea = Area.fromObject(iMap.dArea) as AreaDefault;\n\t\treturn this;\n\t}\n\n\tsetName(name: string): this {\n\t\tif (name) {\n\t\t\tthis.name = name.replace(/\\s+/g, \"\");\n\t\t}\n\t\treturn this;\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n\tsetSize(width: number, height: number): this {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t}\n\n\tsetDefaultArea(bool: boolean): this {\n\t\tthis.hasDefaultArea = bool;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns a copy of the area of the imageMap\n\t * @param {boolean} all with the default area (if exist) or not (default: true)\n\t * @returns {Area[]} a copy of the areas\n\t */\n\tgetAreas(all: boolean = true): Area[] {\n\t\tlet areas = this.areas.slice();\n\t\tif (all && this.hasDefaultArea) areas.push(this.dArea);\n\t\treturn areas;\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this.getAreas().length == 0;\n\t}\n\n\t/**\n\t * Adds an Area at the end of the areas array, and returns the last inserted Area's id\n\t * @param {Area} area an area\n\t */\n\taddArea(area: Area, setId = true): number {\n\t\tif (setId)\n\t\t\tarea.setId(this.getNewId());\n\t\tthis.areas.unshift(area);\n\t\treturn area.id;\n\t}\n\n\trmvArea(id: number): number {\n\t\tlet index = this.areaIndex(id);\n\t\tthis.areas.splice(index, 1);\n\t\treturn index;\n\t}\n\n\t/**\n\t * Move an area up or down in the areas array\n\t * @param {number} id \n\t * @param {number} direction \n\t */\n\tmoveArea(id: number, direction: number): number|false {\n\t\tlet index = this.areaIndex(id);\n\t\tlet area = this.areas[index];\n\t\tlet nextIndex = index + direction;\n\t\tif (nextIndex < 0 || nextIndex >= this.areas.length)\n\t\t\treturn false;\n\t\tthis.rmvArea(id);\n\t\tthis.insertArea(area, nextIndex);\n\t\treturn nextIndex;\n\t}\n\n\tshiftArea(): Area|undefined {\n\t\treturn this.areas.shift();\n\t}\n\n\tpopArea(): Area|undefined {\n\t\treturn this.areas.pop();\n\t}\n\n\tinsertArea(area: Area, index: number): number {\n\t\tthis.areas.splice(index, 0, area);\n\t\treturn this.areas.length;\n\t}\n\n\tareaIndex(id: number): number {\n\t\treturn this.areas.findIndex(a => {\n\t\t\treturn a.id == id;\n\t\t});\n\t}\n\n\tisFirstArea(id: number): boolean {\n\t\treturn this.areaIndex(id) == 0;\n\t}\n\n\tisLastArea(id: number): boolean {\n\t\treturn this.areaIndex(id) == this.areas.length - 1;\n\t}\n\n\tgetNewId(): number {\n\t\tthis.lastId++;\n\t\treturn this.lastId;\n\t}\n\n\ttoHtml(scale = 1): string {\n\t\tlet areas: string[] = [];\n\t\tthis.getAreas().forEach(a => {\n\t\t\tif (a.isValidShape()) {\n\t\t\t\tareas.push('\\t' + a.toHtml(scale));\n\t\t\t}\n\t\t});\n\t\treturn '<map name=\"' + this.name + '\" id=\"' + this.name + '\">\\n' + areas.join('\\n') + '\\n</map>';\n\t}\n\n\ttoSvg(scale = 1): string {\n\t\tlet areas: string[] = [];\n\t\tthis.getAreas(false).forEach(a => {\n\t\t\tif (a.isValidShape()) {\n\t\t\t\tareas.push('\\t' + a.toSvg(scale));\n\t\t\t}\n\t\t});\n\t\tlet str = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"' + this.width + '\" height=\"' + this.height + '\">\\n';\n\t\tstr += areas.join('\\n');\n\t\tstr += '\\n</svg>';\n\t\treturn str;\n\t}\n\n\t/** Removes every areas from the areas array */\n\tclearAreas(): this {\n\t\tthis.areas = [];\n\t\treturn this;\n\t}\n\n\tsetAreas(areas: Area[]): this {\n\t\tthis.areas = areas;\n\t\treturn this;\n\t}\n\n}","//@ts-check\n\nimport { imageMapCreator } from \"./p5.image-map-creator\";\n\n/**\n * Class representing the semi transparent layer which can appear on top of the background\n * @param {number} speed the speed of the opacity animation (1-255, default 15)\n */\nexport class BgLayer {\n\n\tconstructor(\n\t\tprotected iMap: imageMapCreator,\n\t\tprotected speed = 15,\n\t\tprotected alpha = 0,\n\t\tprotected over = false\n\t) {}\n\n\tappear() {\n\t\tthis.over = true;\n\t}\n\n\tdisappear() {\n\t\tthis.over = false;\n\t}\n\n\tdisplay() {\n\t\tif (this.over) {\n\t\t\tif (this.alpha < 100)\n\t\t\t\tthis.alpha += this.speed;\n\t\t}\n\t\telse {\n\t\t\tif (this.alpha > 0)\n\t\t\t\tthis.alpha -= this.speed;\n\t\t}\n\t\tthis.iMap.p5.noStroke();\n\t\tthis.iMap.p5.fill(255, 255, 255, this.alpha);\n\t\tthis.iMap.p5.rect(\n\t\t\tthis.iMap.trueX(0),\n\t\t\tthis.iMap.trueY(0),\n\t\t\tthis.iMap.p5.width / this.iMap.view.scale,\n\t\t\tthis.iMap.p5.height / this.iMap.view.scale\n\t\t);\n\t}\n}","//@ts-check\n\nimport { Area } from \"./class.area\";\nimport { Coord } from \"./class.coord\";\n\nexport class Selection {\n\tprotected origin: Coord = new Coord();\n\tprotected position: Coord = this.origin.clone();\n\tprotected areas: Map<number, Area> = new Map;\n\tprotected points: Map<Coord, number> = new Map;\n\n\tconstructor() {}\n\n\tresetOrigin(coord: Coord = new Coord()): void {\n\t\tthis.origin = coord.clone();\n\t\tthis.position = coord;\n\t\tthis.addPoint(coord);\n\t}\n\n\t/**\n\t * Register an Area as a part of the selection\n\t */\n\tregisterArea(area: Area): void {\n\t\tthis.areas.set(area.getId(), area);\n\t}\n\n\t/**\n\t * Add Area and its points to the selection\n\t */\n\taddArea(area: Area): void {\n\t\tthis.registerArea(area);\n\t\tarea.getCoords().forEach((p: Coord) => this.addPoint(p));\n\t}\n\n\taddPoint(point: Coord): void {\n\t\tconst prev = this.points.get(point) || 0;\n\t\tthis.points.set(point, prev + 1);\n\t}\n\n\tcontainsArea(area: Area): boolean {\n\t\treturn this.areas.has(area.getId());\n\t}\n\n\tcontainsPoint(point: Coord): boolean {\n\t\treturn this.points.has(point);\n\t}\n\n\tdistToOrigin(): Coord {\n\t\treturn this.getPosition().diff(this.origin);\n\t}\n\n\tclear(): void {\n\t\tthis.areas.clear();\n\t\tthis.points.clear();\n\t\tthis.origin = new Coord();\n\t}\n\n\tisEmpty(): boolean {\n\t\treturn this.points.size == 0;\n\t}\n\n\t//------------------------ Start Interface Movable -------------------------------\n\tmove(coord: Coord): void {\n\t\tthis.points.forEach((nb: number, c: Coord): void => {\n\t\t\tc.move(coord);\n\t\t});\n\t}\n\n\tgetPosition(): Coord {\n\t\treturn this.position;\n\t}\n\n\tsetPosition(coord: Coord): void {\n\t\tconst move = coord.diff(this.position);\n\t\tthis.move(move);\n\t}\n\t//------------------------- End Interface Movable --------------------------------\n}","import { version } from \"../package.json\";\nimport { ImageMap } from \"./class.image-map\";\nimport { BgLayer } from \"./p5.bg-layer\";\nimport { Area, AreaCircle, AreaRect, AreaPoly, AreaEmpty } from \"./class.area\";\nimport { Coord } from \"./class.coord\";\nimport { Selection } from \"./class.selection\";\nimport { openWindow } from \"./utils\";\nimport * as download from \"downloadjs\";\n//@ts-ignore no types for this lib\nimport UndoManager from \"undo-manager\";\n//@ts-ignore no types for this lib\nimport QuickSettings from \"quicksettings\";\n//@ts-ignore no types for this lib\nimport * as ContextMenu from \"../lib/contextmenu/contextmenu\";\nimport \"../lib/contextmenu/contextmenu.css\";\n//@ts-ignore strange way to import but it's working\nimport p5 = require(\"p5\");\n\nexport type Tool = \"polygon\" | \"rectangle\" | \"circle\" | \"select\" | \"delete\" | \"test\";\nexport type Image = {\n\tdata: p5.Image|null,\n\tfile: p5.File|null,\n};\nexport type ToolLabel = {\n\tkey: string,\n\tvalue: Tool,\n};\nexport type View = { scale: number, transX: number, transY: number, };\nexport type Zoom = { min: number, max: number, sensativity: number, };\n\nexport class Save {\n\tconstructor (public version: string, public map: ImageMap) {}\n}\n\n/**\n */\nexport class imageMapCreator {\n\tprotected width: number;\n\tprotected height: number;\n\tprotected tool: Tool;\n\tprotected drawingTools: Tool[];\n\tprotected settings: any;\n\tprotected menu = {\n\t\tSetUrl: {\n\t\t\tonSelect: (target: Element, key: any, item: HTMLElement, area: Area) => { this.setAreaUrl(area); },\n\t\t\tlabel: \"Set url\",\n\t\t},\n\t\tSetTitle: {\n\t\t\tonSelect: (target: Element, key: any, item: HTMLElement, area: Area) => { this.setAreaTitle(area); },\n\t\t\tlabel: \"Set title\",\n\t\t},\n\t\tDelete: (target: Element, key: any, item: HTMLElement, area: Area) => { this.deleteArea(area); },\n\t\tMoveFront: {\n\t\t\tonSelect: (target: Element, key: any, item: HTMLElement, area: Area) => { this.moveArea(area, -1); },\n\t\t\tenabled: true,\n\t\t\tlabel: \"Move Forward\",\n\t\t},\n\t\tMoveBack: {\n\t\t\tonSelect: (target: Element, key: any, item: HTMLElement, area: Area) => { this.moveArea(area, 1); },\n\t\t\tenabled: true,\n\t\t\tlabel: \"Move Backward\",\n\t\t}\n\t};\n\tprotected tempArea: AreaEmpty;\n\tprotected selection: Selection;\n\tprotected hoveredArea: Area|null;\n\tprotected hoveredPoint: Coord|null;\n\tpublic map: ImageMap;\n\tprotected undoManager: any;\n\tprotected img: Image;\n\tpublic view: View;\n\tprotected zoomParams: Zoom;\n\tprotected magnetism: boolean;\n\tprotected fusion: boolean;\n\tprotected tolerance: number;\n\tprotected bgLayer: BgLayer;\n\tpublic p5: p5;\n\n\t/**\n\t * Constructor\n\t * @param {string} elementId id of the html container\n\t * @param {number} width\n\t * @param {number} height\n\t */\n\tconstructor(elementId: string, width: number = 600, height: number = 450) {\n\t\tconst element = document.getElementById(elementId);\n\t\tif (!element) throw new Error('HTMLElement not found');\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.tool = \"polygon\";\n\t\tthis.drawingTools = [\"rectangle\", \"circle\", \"polygon\"];\n\t\tthis.settings;\n\t\tthis.tempArea = new AreaEmpty();\n\t\tthis.selection = new Selection();\n\t\tthis.hoveredArea = null;\n\t\tthis.hoveredPoint = null;\n\t\tthis.map = new ImageMap(width, height);\n\t\tthis.undoManager = new UndoManager();\n\t\tthis.img = {data: null, file: null};\n\t\tthis.view = {\n\t\t\tscale: 1,\n\t\t\ttransX: 0,\n\t\t\ttransY: 0\n\t\t}\n\t\tthis.zoomParams = {\n\t\t\tmin: 0.03,\n\t\t\tmax: 3,\n\t\t\tsensativity: 0.001\n\t\t}\n\t\tthis.magnetism = true;\n\t\tthis.fusion = false;\n\t\tthis.tolerance = 6;\n\t\tthis.bgLayer = new BgLayer(this);\n\t\t// Must be the last instruction of the constructor.\n\t\tthis.p5 = new p5(this.sketch.bind(this), element);\n\t}\n\n\t//---------------------------- p5 Sketch ----------------------------------\n\n\t/**\n\t * Override p5 methods\n\t * @param {p5} p5\n\t */\n\tprivate sketch(p5: p5): void {\n\t\t// Set this.p5 also in sketch() (fix for #30).\n\t\tthis.p5 = p5;\n\n\t\tp5.setup = this.setup.bind(this);\n\t\tp5.draw = this.draw.bind(this);\n\n\t\tp5.mousePressed = this.mousePressed.bind(this);\n\t\tp5.mouseDragged = this.mouseDragged.bind(this);\n\t\tp5.mouseReleased = this.mouseReleased.bind(this);\n\t\tp5.mouseWheel = this.mouseWheel.bind(this);\n\t\t//@ts-ignore p5 types didn't specify the KeyBoardEvent nor the boolean return type\n\t\tp5.keyPressed = this.keyPressed.bind(this);\n\t}\n\n\t//---------------------------- p5 Functions ----------------------------------\n\n\tprivate setup(): void {\n\t\tlet canvas = this.p5.createCanvas(this.width, this.height);\n\t\tcanvas.drop(this.handeFile.bind(this)).dragLeave(this.onLeave.bind(this)).dragOver(this.onOver.bind(this));\n\t\t//@ts-ignore p5 types does not specify the canvas attribute\n\t\tthis.settings = QuickSettings.create(this.p5.width + 5, 0, \"Image-map Creator\", this.p5.canvas.parentElement)\n\t\t\t.setDraggable(false)\n\t\t\t.addText(\"Map Name\", \"\", (v: string) => { this.map.setName(v) })\n\t\t\t.addDropDown(\"Tool\", [\"polygon\", \"rectangle\", \"circle\", \"select\", \"delete\", \"test\"], (v: ToolLabel) => { this.setTool(v.value) })\n\t\t\t.addBoolean(\"Default Area\", this.map.hasDefaultArea, (v: boolean) => { this.setDefaultArea(v) })\n\t\t\t.addButton(\"Undo\", this.undoManager.undo)\n\t\t\t.addButton(\"Redo\", this.undoManager.redo)\n\t\t\t.addButton(\"Clear\", this.clearAreas.bind(this))\n\t\t\t.addButton(\"Generate Html\", () => { this.settings.setValue(\"Output\", this.map.toHtml()) })\n\t\t\t.addButton(\"Generate Svg\", () => { this.settings.setValue(\"Output\", this.map.toSvg()) })\n\t\t\t.addTextArea(\"Output\")\n\t\t\t.addButton(\"Save\", this.save.bind(this));\n\t\t//@ts-ignore Fix for oncontextmenu\n\t\tthis.p5.canvas.addEventListener(\"contextmenu\", (e) => { e.preventDefault(); });\n\t\t//@ts-ignore Fix for middle click mouse down triggers scroll on windows\n\t\tthis.p5.canvas.addEventListener(\"mousedown\", (e) => { e.preventDefault(); });\n\t\t//@ts-ignore Select all onclick on the Output field\n\t\tdocument.getElementById(\"Output\").setAttribute(\"onFocus\", \"this.select();\");\n\t}\n\n\tprivate draw(): void {\n\t\tthis.updateTempArea();\n\t\tthis.updateHovered();\n\t\tthis.setCursor();\n\t\tthis.setOutput();\n\t\tthis.setBackground();\n\t\tthis.setTitle(this.hoveredArea);\n\t\tthis.p5.translate(this.view.transX, this.view.transY);\n\t\tthis.p5.scale(this.view.scale);\n\t\tthis.drawImage();\n\t\tthis.bgLayer.display();\n\t\tthis.drawAreas();\n\t}\n\n\t//------------------------------ p5 Events -----------------------------------\n\n\tprivate mousePressed(): void {\n\t\tif (this.mouseIsHoverSketch()) {\n\t\t\tlet coord = this.drawingCoord();\n\t\t\tif (this.p5.mouseButton == this.p5.LEFT && !ContextMenu.isOpen()) {\n\t\t\t\tswitch (this.tool) {\n\t\t\t\t\tcase \"circle\":\n\t\t\t\t\tcase \"rectangle\":\n\t\t\t\t\t\tthis.setTempArea(coord);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"polygon\":\n\t\t\t\t\t\tlet areaPoly = this.tempArea as AreaPoly;\n\t\t\t\t\t\tif (areaPoly.isEmpty()) {\n\t\t\t\t\t\t\tthis.setTempArea(coord);\n\t\t\t\t\t\t} else if (areaPoly.isClosable(this.mCoord(), this.tolerance / this.view.scale)) {\n\t\t\t\t\t\t\tareaPoly.close();\n\t\t\t\t\t\t\tif (areaPoly.isValidShape())\n\t\t\t\t\t\t\t\tthis.createArea(areaPoly);\n\t\t\t\t\t\t\tthis.tempArea = new AreaEmpty();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.tempArea.addCoord(this.mCoord());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\tif (this.hoveredPoint !== null) {\n\t\t\t\t\t\t\tthis.selection.addPoint(this.hoveredPoint);\n\t\t\t\t\t\t\tthis.selection.registerArea(this.hoveredArea!);\n\t\t\t\t\t\t\tthis.selection.resetOrigin(this.hoveredPoint);\n\t\t\t\t\t\t} else if (this.hoveredArea !== null) {\n\t\t\t\t\t\t\tthis.selection.addArea(this.hoveredArea);\n\t\t\t\t\t\t\tthis.selection.resetOrigin(this.mCoord());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate mouseDragged(): void {\n\t\tif (this.mouseIsHoverSketch() && !ContextMenu.isOpen()) {\n\t\t\tif (this.p5.mouseButton == this.p5.LEFT) {\n\t\t\t\tswitch (this.tool) {\n\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\tthis.selection.setPosition(this.drawingCoord());\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else if (this.p5.mouseButton == this.p5.CENTER) {\n\t\t\t\tthis.view.transX += this.p5.mouseX - this.p5.pmouseX;\n\t\t\t\tthis.view.transY += this.p5.mouseY - this.p5.pmouseY;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate mouseReleased(e: MouseEvent): void {\n\t\tswitch (this.tool) {\n\t\t\tcase \"rectangle\":\n\t\t\tcase \"circle\":\n\t\t\t\tif (this.tempArea.isValidShape())\n\t\t\t\t\tthis.createArea(this.tempArea);\n\t\t\t\tthis.tempArea = new AreaEmpty();\n\t\t\t\tbreak;\n\t\t\tcase \"select\":\n\t\t\t\tlet selection = this.selection;\n\t\t\t\tif (!selection.isEmpty()) {\n\t\t\t\t\tlet move = this.selection.distToOrigin();\n\t\t\t\t\tthis.undoManager.add({\n\t\t\t\t\t\tundo: () => selection.move(move.invert()),\n\t\t\t\t\t\tredo: () => selection.move(move),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.selection = new Selection();\n\t\t\t\tbreak;\n\t\t}\n\t\tthis.onClick(e);\n\t\tthis.bgLayer.disappear();\n\t}\n\n\tprivate mouseWheel(e: MouseWheelEvent): boolean {\n\t\tif (this.mouseIsHoverSketch()) {\n\t\t\tlet coefZoom = this.view.scale * this.zoomParams.sensativity * - e.deltaY;\n\t\t\tthis.zoom(coefZoom);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate keyPressed(e: KeyboardEvent): boolean {\n\t\tif (e.composed && e.ctrlKey) {\n\t\t\tswitch (e.key) {\n\t\t\t\tcase 's':\n\t\t\t\t\tthis.save();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'z':\n\t\t\t\t\tthis.undoManager.undo();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\tthis.undoManager.redo();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (\n\t\t\tthis.tool == \"polygon\" &&\n\t\t\t//@ts-ignore p5 types didn't specify the ESCAPE keycode\n\t\t\te.keyCode == this.p5.ESCAPE\n\t\t) {\n\t\t\tthis.tempArea = new AreaEmpty();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t//---------------------------- Functions ----------------------------------\n\n\ttrueX(coord: number): number {\n\t\treturn (coord - this.view.transX) / this.view.scale;\n\t}\n\n\ttrueY(coord: number): number {\n\t\treturn (coord - this.view.transY) / this.view.scale;\n\t}\n\n\tmX(): number {\n\t\treturn this.trueX(this.p5.mouseX);\n\t}\n\n\tmY(): number {\n\t\treturn this.trueY(this.p5.mouseY);\n\t}\n\n\t/**\n\t * Get the true coordinate of the mouse relative to the imageMap\n\t */\n\tmCoord(): Coord {\n\t\treturn new Coord(this.mX(), this.mY());\n\t}\n\n\t/**\n\t * Get the coordinate of the mouse for drawing\n\t */\n\tdrawingCoord(): Coord {\n\t\tlet coord = this.mCoord();\n\t\tcoord = this.magnetism ? this.hoveredPoint ? this.hoveredPoint : coord : coord;\n\t\tif (!this.fusion) {\n\t\t\tcoord = coord.clone();\n\t\t}\n\t\treturn coord;\n\t}\n\n\tmouseIsHoverSketch(): boolean {\n\t\treturn this.p5.mouseX <= this.p5.width && this.p5.mouseX >= 0 && this.p5.mouseY <= this.p5.height && this.p5.mouseY >= 0;\n\t}\n\n\t/**\n\t * Sets hoveredPoint and hoveredArea excluding currently selected Areas\n\t */\n\tupdateHovered(): void {\n\t\tthis.hoveredPoint = null;\n\t\tlet allAreas = this.map.getAreas();\n\t\tlet area = allAreas.find((a: Area): boolean => {\n\t\t\tif (this.selection.containsArea(a)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.tool != \"test\") {\n\t\t\t\tlet point = a.isOverPoint(this.mCoord(), this.tolerance / this.view.scale)\n\t\t\t\tif (point && !this.selection.containsPoint(point)) {\n\t\t\t\t\tthis.hoveredPoint = point;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a.isOver(this.mCoord())) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tif (this.p5.mouseIsPressed) return;\n\t\tthis.hoveredArea = area ? area : null;\n\t}\n\n\tonClick(event: MouseEvent): void {\n\t\tif (this.mouseIsHoverSketch()) {\n\t\t\tif (this.hoveredArea) {\n\t\t\t\tif (this.p5.mouseButton == this.p5.RIGHT) {\n\t\t\t\t\tthis.selection.addArea(this.hoveredArea);\n\t\t\t\t\tthis.menu.MoveFront.enabled = !(this.map.isFirstArea(this.hoveredArea.id) || this.hoveredArea.getShape() == 'default');\n\t\t\t\t\tthis.menu.MoveBack.enabled = !(this.map.isLastArea(this.hoveredArea.id) || this.hoveredArea.getShape() == 'default');\n\t\t\t\t\tContextMenu.display(event, this.menu, {\n\t\t\t\t\t\tposition: \"click\",\n\t\t\t\t\t\tdata: this.hoveredArea\n\t\t\t\t\t});\n\t\t\t\t\t// return false; // doesn't work as expected\n\t\t\t\t} else if (this.p5.mouseButton == this.p5.LEFT && !ContextMenu.isOpen()) {\n\t\t\t\t\tswitch (this.tool) {\n\t\t\t\t\t\tcase \"test\":\n\t\t\t\t\t\t\topenWindow(this.hoveredArea.getHref());\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"delete\":\n\t\t\t\t\t\t\tthis.deleteArea(this.hoveredArea);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.selection.clear();\n\t}\n\n\tonOver(evt: MouseEvent): void {\n\t\tthis.bgLayer.appear();\n\t\tevt.preventDefault();\n\t}\n\n\tonLeave(): void {\n\t\tthis.bgLayer.disappear();\n\t}\n\n\thandeFile(file: p5.File): void {\n\t\tif (file.type == \"image\") {\n\t\t\tthis.img.data = this.p5.loadImage(file.data, img => this.resetView(img));\n\t\t\tthis.img.file = file.file;\n\t\t\tif (!this.map.getName()) {\n\t\t\t\tthis.map.setName(file.name);\n\t\t\t\tthis.settings.setValue(\"Map Name\", this.map.getName());\n\t\t\t}\n\t\t} else if (file.subtype == 'json') {\n\t\t\tfetch(file.data)\n\t\t\t\t.then(res => res.blob())\n\t\t\t\t.then(blob => {\n\t\t\t\t\tlet reader = new FileReader();\n\t\t\t\t\treader.onload = () => {\n\t\t\t\t\t\tlet json = reader.result;\n\t\t\t\t\t\tif (typeof(json) == \"string\") {\n\t\t\t\t\t\t\tthis.importMap(json);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\treader.readAsText(blob);\n\t\t\t\t});\n\t\t}\n\t\tthis.bgLayer.disappear();\n\t}\n\n\tresetView(img: p5.Image): void {\n\t\tthis.view.scale = 1;\n\t\tthis.view.transX = 0;\n\t\tthis.view.transY = 0;\n\t\tlet xScale = this.p5.width / img.width;\n\t\tlet yScale = this.p5.height / img.height;\n\t\tif (xScale < this.view.scale)\n\t\t\tthis.view.scale = xScale;\n\t\tif (yScale < this.view.scale)\n\t\t\tthis.view.scale = yScale;\n\t\tthis.map.setSize(img.width, img.height);\n\t}\n\n\tzoom(coef: number): void {\n\t\tlet newScale = this.view.scale + coef;\n\t\tif (newScale > this.zoomParams.min && newScale < this.zoomParams.max) {\n\t\t\tlet mouseXToOrigin = this.mX();\n\t\t\tlet mouseYToOrigin = this.mY();\n\t\t\tlet transX = mouseXToOrigin * coef;\n\t\t\tlet transY = mouseYToOrigin * coef;\n\n\t\t\tthis.view.scale = newScale;\n\t\t\tthis.view.transX -= transX;\n\t\t\tthis.view.transY -= transY;\n\t\t}\n\t}\n\n\tdrawImage(): void {\n\t\tif (this.img.data)\n\t\t\tthis.p5.image(this.img.data, 0, 0, this.img.data.width, this.img.data.height);\n\t}\n\n\tdrawAreas(): void {\n\t\tlet allAreas = [this.tempArea].concat(this.map.getAreas());\n\t\tfor (let i = allAreas.length; i--;) {\n\t\t\tlet area = allAreas[i];\n\t\t\tthis.setAreaStyle(area);\n\t\t\tif (area.isDrawable())\n\t\t\t\tarea.display(this.p5);\n\t\t}\n\t\tif (this.hoveredPoint) {\n\t\t\tlet point = this.hoveredPoint;\n\t\t\tthis.p5.fill(0);\n\t\t\tthis.p5.noStroke();\n\t\t\tthis.p5.ellipse(point.x, point.y, 6 / this.view.scale)\n\t\t}\n\t}\n\n\tsetTool(value: Tool): void {\n\t\tthis.tool = value;\n\t\tthis.tempArea = new AreaEmpty();\n\t}\n\n\tsetCursor(): void {\n\t\tif (this.drawingTools.includes(this.tool)) {\n\t\t\tswitch (this.tool) {\n\t\t\t\tcase \"polygon\":\n\t\t\t\t\tlet areaPoly = this.tempArea as AreaPoly\n\t\t\t\t\tif (!areaPoly.isEmpty() && areaPoly.isClosable(this.mCoord(), 5 / this.view.scale)) {\n\t\t\t\t\t\tthis.p5.cursor(this.p5.HAND);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tthis.p5.cursor(this.p5.CROSS);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.p5.cursor(this.p5.ARROW);\n\t\t\tif (this.hoveredArea) {\n\t\t\t\tswitch (this.tool) {\n\t\t\t\t\tcase \"test\":\n\t\t\t\t\tcase \"delete\":\n\t\t\t\t\t\tthis.p5.cursor(this.p5.HAND);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"select\":\n\t\t\t\t\t\tif (!this.hoveredPoint) {\n\t\t\t\t\t\t\tthis.p5.cursor(this.p5.MOVE);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tsetOutput(): void {\n\t\tswitch (this.tool) {\n\t\t\tcase \"test\":\n\t\t\tcase \"select\":\n\t\t\t\tif (this.mouseIsHoverSketch()) {\n\t\t\t\t\tlet href = this.hoveredArea ? this.hoveredArea.getHrefVerbose() : \"none\";\n\t\t\t\t\tthis.settings.setValue(\"Output\", href);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetBackground(): void {\n\t\tthis.p5.background(200);\n\t\tif (!this.img.data) {\n\t\t\tthis.p5.noStroke();\n\t\t\tthis.p5.fill(0);\n\t\t\tthis.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n\t\t\tthis.p5.textSize(15);\n\t\t\tlet text = 'Drag and drop an image and/or a .map.json save file here';\n\t\t\tthis.p5.text(text, this.p5.width / 2, this.p5.height / 2);\n\t\t}\n\t}\n\n\t/**\n\t * Set the title of the canvas from an area\n\t */\n\tsetTitle(area: Area|null): void {\n\t\tif (this.tool == \"test\" && area && area.getTitle()) {\n\t\t\t//@ts-ignore p5 types does not specify the canvas attribute\n\t\t\tthis.p5.canvas.setAttribute(\"title\", area.getTitle());\n\t\t} else {\n\t\t\t//@ts-ignore p5 types does not specify the canvas attribute\n\t\t\tthis.p5.canvas.removeAttribute(\"title\");\n\t\t}\n\t}\n\n\tsetAreaStyle(area: Area): void {\n\t\tlet color = this.p5.color(255, 255, 255, 178);\n\t\tif (this.tool == \"test\") {\n\t\t\tcolor = this.p5.color(255, 0);\n\t\t}\n\t\tif (((this.tool == \"delete\" || this.tool == \"select\") &&\n\t\t\tthis.mouseIsHoverSketch() &&\n\t\t\tarea == this.hoveredArea) ||\n\t\t\tthis.selection.containsArea(area)\n\t\t) {\n\t\t\tcolor = this.p5.color(255, 200, 200, 178); // highlight (set color red)\n\t\t}\n\t\tthis.p5.fill(color);\n\t\tthis.p5.strokeWeight(1 / this.view.scale);\n\t\tif (this.tool == \"test\") {\n\t\t\tthis.p5.noStroke();\n\t\t} else {\n\t\t\tthis.p5.stroke(0);\n\t\t}\n\t}\n\n\tsetTempArea(coord: Coord): void {\n\t\tlet coords = [coord];\n\t\tswitch (this.tool) {\n\t\t\tcase \"rectangle\":\n\t\t\t\tthis.tempArea = new AreaRect(coords);\n\t\t\t\tbreak;\n\t\t\tcase \"circle\":\n\t\t\t\tthis.tempArea = new AreaCircle(coords);\n\t\t\t\tbreak;\n\t\t\tcase \"polygon\":\n\t\t\t\tthis.tempArea = new AreaPoly(coords);\n\t\t\t\tthis.tempArea.addCoord(coord);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tupdateTempArea(): void {\n\t\tlet coord = this.drawingCoord();\n\t\tif (!this.tempArea.isEmpty()) {\n\t\t\tthis.tempArea.updateLastCoord(coord);\n\t\t}\n\t}\n\n\texportMap(): string {\n\t\treturn JSON.stringify(new Save(version, this.map), function (key, value) {\n\t\t\tif (value instanceof ImageMap && !(this instanceof Save)) {\n\t\t\t\treturn value.getName();\n\t\t\t}\n\t\t\treturn value;\n\t\t});\n\t}\n\n\tsave(): void {\n\t\t//@ts-ignore encoding options for Chrome\n\t\tlet blob = new Blob([this.exportMap()], { encoding: \"UTF-8\", type: \"text/plain;charset=UTF-8\" })\n\t\tdownload(blob, `${this.map.getName()}.map.json`, 'application/json')\n\t}\n\n\timportMap(json: string): void {\n\t\tlet object = JSON.parse(json);\n\t\tlet objectMap = object.map;\n\t\tthis.map.setFromObject(objectMap);\n\t\tthis.settings.setValue(\"Map Name\", objectMap.name);\n\t\tthis.settings.setValue(\"Default Area\", objectMap.hasDefaultArea);\n\t\tthis.reset();\n\t}\n\n\t/**\n\t * Add an area to the imageMap object\n\t */\n\tcreateArea(area: Area): void {\n\t\tthis.map.addArea(area);\n\t\tthis.undoManager.add({\n\t\t\tundo: () => area = this.map.shiftArea()!,\n\t\t\tredo: () => this.map.addArea(area, false),\n\t\t});\n\t}\n\n\t/**\n\t * remove an area from the imageMap object\n\t */\n\tdeleteArea(area: Area): void {\n\t\tlet id = area.id;\n\t\tif (id === 0) {\n\t\t\tthis.settings.setValue(\"Default Area\", false);\n\t\t} else {\n\t\t\tlet index = this.map.rmvArea(id);\n\t\t\tthis.undoManager.add({\n\t\t\t\tundo: () => this.map.insertArea(area, index),\n\t\t\t\tredo: () => this.map.rmvArea(id),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Move an area forward or backward\n\t */\n\tmoveArea(area: Area, direction: number): void {\n\t\tif (this.map.moveArea(area.id, direction) !== false) {\n\t\t\tthis.undoManager.add({\n\t\t\t\tundo: () => this.map.moveArea(area.id, -direction),\n\t\t\t\tredo: () => this.map.moveArea(area.id, direction),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Set the url of an area\n\t */\n\tsetAreaUrl(area: Area): void {\n\t\tlet href = area.getHref();\n\t\tlet input = prompt(\"Enter the pointing url of this area\", href ? href : \"http://\");\n\t\tif (input) {\n\t\t\tarea.setHref(input);\n\t\t\tthis.undoManager.add({\n\t\t\t\tundo: () => area.setHref(href),\n\t\t\t\tredo: () => area.setHref(input!),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Set the title of an area\n\t */\n\tsetAreaTitle(area: Area): void {\n\t\tlet title = area.getTitle();\n\t\tlet input = prompt(\"Enter the title of this area\", title ? title : \"\");\n\t\tif (input) {\n\t\t\tarea.setTitle(input);\n\t\t\tthis.undoManager.add({\n\t\t\t\tundo: () => area.setTitle(title),\n\t\t\t\tredo: () => area.setTitle(input!),\n\t\t\t});\n\t\t}\n\t}\n\n\tsetDefaultArea(bool: boolean): void {\n\t\tthis.map.setDefaultArea(bool);\n\t\tthis.undoManager.add({\n\t\t\tundo: () => {\n\t\t\t\tthis.map.setDefaultArea(!bool); // semble redondant\n\t\t\t\tthis.settings.setValue(\"Default Area\", !bool)\n\t\t\t},\n\t\t\tredo: () => {\n\t\t\t\tthis.map.setDefaultArea(bool); // semble redondant\n\t\t\t\tthis.settings.setValue(\"Default Area\", bool)\n\t\t\t}\n\t\t});\n\t}\n\n\tclearAreas(): void {\n\t\tlet areas = this.map.getAreas(false);\n\t\tthis.map.clearAreas();\n\t\tthis.undoManager.add({\n\t\t\tundo: () => this.map.setAreas(areas),\n\t\t\tredo: () => this.map.clearAreas(),\n\t\t});\n\t}\n\n\treset(): void {\n\t\tthis.undoManager.clear();\n\t}\n}"],"sourceRoot":""}